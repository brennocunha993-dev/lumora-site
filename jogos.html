<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogos - Lumora</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-cyan: #00ffff;
            --neon-purple: #8a2be2;
            --neon-pink: #ff1493;
            --dark-bg: #000000;
            --darker-bg: #0a0a0a;
            --card-bg: #111111;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%);
            color: #fff;
            font-family: 'Rajdhani', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .navbar {
            background: rgba(0, 0, 0, 0.3) !important;
            backdrop-filter: blur(30px);
            padding: 20px 0;
        }

        .navbar-brand {
            font-family: 'Orbitron', monospace;
            font-weight: 900;
            font-size: 2rem;
            color: var(--neon-cyan);
            text-shadow: 0 0 20px var(--neon-cyan);
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { filter: drop-shadow(0 0 5px var(--neon-cyan)); }
            to { filter: drop-shadow(0 0 15px var(--neon-cyan)); }
        }

        .hero-section {
            padding: 100px 0 50px;
            text-align: center;
            position: relative;
        }

        .hero-title {
            font-family: 'Orbitron', monospace;
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink));
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            animation: titleGlow 3s ease-in-out infinite alternate, heroRainbow 3s ease-in-out infinite;
        }
        
        @keyframes heroRainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes titleGlow {
            0% { filter: drop-shadow(0 0 20px var(--neon-cyan)); }
            100% { filter: drop-shadow(0 0 40px var(--neon-purple)); }
        }

        @keyframes rainbowShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .search-section {
            padding: 50px 0;
        }

        .search-panel {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 25px;
            padding: 40px;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .search-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(0, 255, 255, 0.1), transparent);
            animation: rotate 8s linear infinite;
            opacity: 0.3;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .search-input-wrapper {
            position: relative;
            z-index: 2;
        }

        .search-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid rgba(0, 255, 255, 0.4);
            color: #fff;
            padding: 18px 25px 18px 60px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--neon-cyan);
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
            background: rgba(0, 0, 0, 0.9);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .search-icon {
            position: absolute;
            left: 22px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--neon-cyan);
            font-size: 1.3rem;
            z-index: 3;
            animation: iconPulse 2s ease-in-out infinite;
        }

        @keyframes iconPulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .filter-select {
            width: 100%;
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
            border: 2px solid rgba(0, 255, 255, 0.4);
            color: #fff;
            padding: 18px 25px;
            border-radius: 15px;
            font-size: 1rem;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .filter-select::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, var(--neon-cyan), transparent);
            border-radius: 15px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .filter-select:hover::before {
            opacity: 0.3;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--neon-cyan);
            box-shadow: 0 0 25px rgba(0, 255, 255, 0.4);
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
        }

        .filter-select option {
            background: rgba(0, 0, 0, 0.95);
            color: #fff;
            padding: 15px;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }

        .filter-select option:hover {
            background: rgba(0, 255, 255, 0.1);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            z-index: 2;
            position: relative;
            flex-wrap: wrap;
        }

        .action-btn {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.8), rgba(17, 17, 17, 0.9));
            border: 2px solid rgba(0, 255, 255, 0.4);
            color: var(--neon-cyan);
            padding: 12px 20px;
            border-radius: 12px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
        }

        .action-btn:hover {
            background: linear-gradient(145deg, rgba(0, 255, 255, 0.1), rgba(0, 200, 200, 0.05));
            border-color: var(--neon-cyan);
            color: #fff;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .action-btn i {
            margin-right: 8px;
        }

        .games-grid {
            padding: 20px 0;
            min-height: 60vh;
            margin-left: -40px;
            position: relative;
        }



        .no-games-message {
            text-align: center;
            padding: 100px 20px;
            color: rgba(255, 255, 255, 0.6);
        }

        .no-games-icon {
            font-size: 5rem;
            color: var(--neon-cyan);
            margin-bottom: 30px;
            opacity: 0.5;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .no-games-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: var(--neon-cyan);
            margin-bottom: 20px;
        }

        .no-games-text {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: #000000;
            border: 2px solid var(--neon-cyan);
            color: var(--neon-cyan);
            width: 90px;
            height: 90px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
            box-shadow: 0 0 25px var(--neon-cyan), inset 0 0 15px rgba(0, 255, 255, 0.1);
            z-index: 1000;
        }
        
        .back-btn img {
            filter: drop-shadow(0 0 15px #ff0080) drop-shadow(0 0 25px #00ffff) drop-shadow(0 0 35px #ff6600);
            animation: logoRainbow 3s ease-in-out infinite;
        }
        
        @keyframes logoRainbow {
            0% { filter: drop-shadow(0 0 15px #ff0080) drop-shadow(0 0 25px #00ffff); }
            25% { filter: drop-shadow(0 0 15px #00ffff) drop-shadow(0 0 25px #ff6600); }
            50% { filter: drop-shadow(0 0 15px #ff6600) drop-shadow(0 0 25px #8a2be2); }
            75% { filter: drop-shadow(0 0 15px #8a2be2) drop-shadow(0 0 25px #39ff14); }
            100% { filter: drop-shadow(0 0 15px #39ff14) drop-shadow(0 0 25px #ff0080); }
        }

        .back-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 40px var(--neon-cyan), 0 0 60px var(--neon-cyan), inset 0 0 25px rgba(0, 255, 255, 0.2);
            border-color: #ffffff;
        }
        
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            z-index: 999;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all 0.4s ease;
            opacity: 0;
        }
        
        .menu-overlay.show {
            opacity: 1;
        }
        
        .menu-container {
            position: relative;
            max-width: 900px;
            width: 90%;
            text-align: center;
        }
        
        .menu-header {
            margin-bottom: 50px;
        }
        
        .menu-logo {
            font-family: 'Orbitron', monospace;
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbowShift 3s ease-in-out infinite;
            text-shadow: 0 0 30px var(--neon-cyan);
            margin-bottom: 15px;
        }
        
        .menu-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
            font-weight: 300;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .menu-item {
            background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 20px;
            padding: 40px 30px;
            cursor: pointer;
            transition: all 0.4s ease;
            backdrop-filter: blur(30px);
            position: relative;
            overflow: hidden;
        }
        
        .menu-item::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink), var(--neon-cyan));
            background-size: 400% 400%;
            border-radius: 20px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
            animation: borderFlow 3s ease-in-out infinite;
        }
        
        .menu-item:hover::before {
            opacity: 0.7;
        }
        
        .menu-item:hover {
            transform: translateY(-10px) scale(1.05);
            border-color: var(--neon-cyan);
            box-shadow: 0 20px 40px rgba(0, 255, 255, 0.3);
        }
        
        .menu-item-icon {
            font-size: 3rem;
            color: var(--neon-cyan);
            margin-bottom: 20px;
            text-shadow: 0 0 20px var(--neon-cyan);
            animation: iconPulse 2s ease-in-out infinite;
        }
        
        .menu-item-title {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--neon-cyan);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px var(--neon-cyan);
        }
        
        .menu-item-desc {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .menu-close {
            position: absolute;
            top: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid var(--neon-cyan);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--neon-cyan);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .menu-close:hover {
            background: var(--neon-cyan);
            color: #000;
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--neon-cyan);
        }
        
        @keyframes borderFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        

        

        
        .mini-menu-item {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(0, 255, 255, 0.3);
            color: var(--neon-cyan);
            padding: 10px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Orbitron', monospace;
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            white-space: nowrap;
            backdrop-filter: blur(10px);
        }
        
        .mini-menu-item:hover {
            background: rgba(0, 255, 255, 0.1);
            border-color: var(--neon-cyan);
            color: #fff;
            text-shadow: 0 0 10px var(--neon-cyan);
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
        }
        

        
        .mini-menu-item i {
            font-size: 0.9rem;
            filter: drop-shadow(0 0 5px currentColor);
        }

        .stats-bar {
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.8), rgba(17, 17, 17, 0.6));
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .stats-text {
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            color: var(--neon-cyan);
            text-shadow: 0 0 10px var(--neon-cyan);
            animation: statsPulse 2s ease-in-out infinite;
        }

        @keyframes statsPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .loading-spinner {
            display: none;
            text-align: center;
            padding: 50px;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(0, 255, 255, 0.3);
            border-top: 3px solid var(--neon-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--neon-cyan);
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Scrollbar invisível */
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: transparent; }
        
        /* Para Firefox */
        html { scrollbar-width: none; }
        
        /* Para IE/Edge */
        body { -ms-overflow-style: none; }

        /* Responsivo */
        @media (max-width: 768px) {
            .hero-title { font-size: 2.5rem; }
            .search-panel { padding: 25px; }
            .filter-section { flex-direction: column; }
            .back-btn { width: 50px; height: 50px; font-size: 1.2rem; }
            .mini-menu { min-width: 160px; }
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>

    <button class="back-btn" onclick="toggleMiniMenu()">
        <span style="
            font-family: 'Orbitron', monospace;
            font-weight: 900;
            font-size: 0.8rem;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-purple), var(--neon-pink));
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: rainbowShift 3s ease-in-out infinite;
            letter-spacing: 1px;
            text-shadow: 0 0 20px var(--neon-cyan);
        ">LUMORA</span>
    </button>
    
    <!-- Menu Overlay -->
    <div id="menuOverlay" class="menu-overlay" onclick="toggleMiniMenu()">
        <div class="menu-container" onclick="event.stopPropagation()">
            <div class="menu-close" onclick="toggleMiniMenu()">
                <i class="fas fa-times"></i>
            </div>
            
            <div class="menu-header">
                <div class="menu-logo">LUMORA</div>
                <div class="menu-subtitle">Central de Controle</div>
            </div>
            
            <div class="menu-grid">
                <div class="menu-item" onclick="showProfile(); toggleMiniMenu();">
                    <div class="menu-item-icon">
                        <i class="fas fa-user-astronaut"></i>
                    </div>
                    <div class="menu-item-title">PERFIL</div>
                    <div class="menu-item-desc">Gerencie sua conta e configurações pessoais</div>
                </div>
                
                <div class="menu-item" onclick="showFriends(); toggleMiniMenu();">
                    <div class="menu-item-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="menu-item-title">AMIGOS</div>
                    <div class="menu-item-desc">Conecte-se com outros gamers</div>
                </div>
                
                <div class="menu-item" onclick="showSettings(); toggleMiniMenu();">
                    <div class="menu-item-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="menu-item-title">CONFIGURAÇÕES</div>
                    <div class="menu-item-desc">Personalize sua experiência</div>
                </div>
                
                <div class="menu-item" onclick="goBack(); toggleMiniMenu();">
                    <div class="menu-item-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <div class="menu-item-title">INÍCIO</div>
                    <div class="menu-item-desc">Voltar à página principal</div>
                </div>
            </div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <div class="position-absolute end-0 me-4" style="top: 20%; display: flex; flex-direction: column; align-items: flex-end; gap: 10px;">
                <!-- Botões de ação -->
                <div style="display: flex; gap: 10px;">
                    <button onclick="toggleTheme()" style="
                        background: rgba(0, 0, 0, 0.8);
                        border: 2px solid var(--neon-purple);
                        color: var(--neon-purple);
                        width: 40px;
                        height: 40px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        backdrop-filter: blur(15px);
                    " onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 0 20px var(--neon-purple)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none';">
                        <i class="fas fa-palette"></i>
                    </button>
                    <button onclick="showSupport()" style="
                        background: rgba(0, 0, 0, 0.8);
                        border: 2px solid var(--neon-green);
                        color: var(--neon-green);
                        width: 40px;
                        height: 40px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        backdrop-filter: blur(15px);
                    " onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 0 20px var(--neon-green)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none';">
                        <i class="fas fa-headset"></i>
                    </button>
                </div>
                <!-- User panel -->
                <div id="userPanel">
                    <!-- User panel will be loaded here -->
                </div>
            </div>
        </div>
    </nav>

    <div class="hero-section">
        <div class="container">
            <h1 class="hero-title">BIBLIOTECA DE JOGOS</h1>
        </div>
    </div>

    <div class="search-section">
        <div class="container">
            <div class="search-panel">
                <div class="row g-3">
                    <div class="col-md-8">
                        <div class="search-input-wrapper">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" class="search-input" placeholder="Buscar jogos..." id="searchInput">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <select class="filter-select" id="categoryFilter">
                            <option value="">Todas Categorias</option>
                            <option value="acao">Ação</option>
                            <option value="aventura">Aventura</option>
                            <option value="rpg">RPG</option>
                            <option value="estrategia">Estratégia</option>
                            <option value="corrida">Corrida</option>
                            <option value="esporte">Esporte</option>
                            <option value="puzzle">Puzzle</option>
                            <option value="tiro">Tiro</option>
                            <option value="terror">Terror</option>
                            <option value="simulacao">Simulação</option>
                            <option value="plataforma">Plataforma</option>
                            <option value="luta">Luta</option>
                            <option value="musical">Musical</option>
                            <option value="indie">Indie</option>
                            <option value="casual">Casual</option>
                            <option value="mmo">MMO</option>
                            <option value="survival">Sobrevivência</option>
                            <option value="sandbox">Sandbox</option>
                        </select>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button class="action-btn admin-only" onclick="createGame()" style="display: none;">
                        <i class="fas fa-plus"></i> Criar Jogo
                    </button>
                    <button class="action-btn admin-only" onclick="uploadGame()" style="display: none;">
                        <i class="fas fa-upload"></i> Upload
                    </button>
                    <button class="action-btn admin-only" onclick="myGames()" style="display: none;">
                        <i class="fas fa-folder"></i> Meus Jogos
                    </button>
                    <button class="action-btn" onclick="favorites()">
                        <i class="fas fa-heart"></i> Favoritos
                    </button>
                </div>
                
                <div class="stats-bar">
                    <div class="stats-text" id="gameStats">
                        <i class="fas fa-gamepad me-2"></i>Carregando biblioteca...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="games-grid" id="gamesGrid">
        <div class="container">
            <div class="loading-spinner" id="loadingSpinner">
                <div class="spinner"></div>
                <div class="loading-text">Sincronizando com a matriz...</div>
            </div>
            
            <div class="no-games-message" id="noGamesMessage" style="display: none;">
            </div>
            
            <div class="row" id="customGamesGrid">
                <!-- Jogos criados aparecerão aqui -->
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Função para obter cores atuais do tema
        function getCurrentThemeColors() {
            const style = getComputedStyle(document.documentElement);
            return {
                primary: style.getPropertyValue('--neon-cyan').trim(),
                secondary: style.getPropertyValue('--neon-purple').trim(),
                accent: style.getPropertyValue('--neon-pink').trim()
            };
        }

        // Função para inicializar partículas com cores do tema
        function initParticles() {
            const colors = getCurrentThemeColors();
            particlesJS('particles-js', {
                particles: {
                    number: { value: 100, density: { enable: true, value_area: 800 } },
                    color: { value: [colors.primary, colors.secondary, colors.accent] },
                    shape: { type: 'circle' },
                    opacity: { value: 0.6, random: true },
                    size: { value: 4, random: true },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: colors.primary,
                        opacity: 0.4,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 3,
                        direction: 'none',
                        random: true,
                        straight: false,
                        out_mode: 'out',
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: 'canvas',
                    events: {
                        onhover: { enable: true, mode: 'repulse' },
                        onclick: { enable: true, mode: 'push' },
                        resize: true
                    }
                },
                retina_detect: true
            });
        }

        // Inicializar partículas
        initParticles();

        // Verificar se é admin
        function checkAdminAccess() {
            const currentUser = localStorage.getItem('currentUser');
            const admins = JSON.parse(localStorage.getItem('admins') || '[]');
            
            const isAdmin = admins.some(admin => admin.username === currentUser);
            
            // Mostrar/ocultar botões admin
            const adminButtons = document.querySelectorAll('.admin-only');
            adminButtons.forEach(button => {
                button.style.display = isAdmin ? 'block' : 'none';
            });
        }

        // Carregar painel do usuário
        function loadUserPanel() {
            const currentUser = localStorage.getItem('currentUser');
            const userPanel = document.getElementById('userPanel');
            
            if (currentUser) {
                const users = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
                const user = users.find(u => u.username === currentUser);
                
                if (user) {
                    userPanel.innerHTML = `
                        <div class="user-panel" style="
                            display: flex;
                            align-items: center;
                            background: #000000;
                            border: 2px solid var(--neon-cyan);
                            border-radius: 50px;
                            padding: 8px 15px;
                            backdrop-filter: blur(20px);
                            box-shadow: 0 0 20px var(--neon-cyan), inset 0 0 10px rgba(0, 255, 255, 0.1);
                        ">
                            <div style="
                                width: 32px;
                                height: 32px;
                                border-radius: 50%;
                                background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 0.9rem;
                                color: #000;
                                margin-right: 10px;
                                box-shadow: 0 0 10px var(--neon-cyan);
                            ">
                                <i class="fas fa-user"></i>
                            </div>
                            <div>
                                <div style="
                                    font-family: 'Orbitron', monospace;
                                    font-weight: 700;
                                    font-size: 0.8rem;
                                    color: var(--neon-cyan);
                                    text-shadow: 0 0 10px var(--neon-cyan);
                                    text-transform: uppercase;
                                    letter-spacing: 1px;
                                    line-height: 1;
                                ">${user.username}</div>
                                <div style="
                                    font-size: 0.6rem;
                                    color: #00ff41;
                                    text-shadow: 0 0 8px #00ff41;
                                    text-transform: uppercase;
                                    letter-spacing: 0.5px;
                                    margin-top: 2px;
                                    font-family: 'Orbitron', monospace;
                                    font-weight: 500;
                                ">● ONLINE</div>
                            </div>
                        </div>
                    `;
                }
            }
        }

        // Simulação de carregamento
        document.addEventListener('DOMContentLoaded', function() {
            const loadingSpinner = document.getElementById('loadingSpinner');
            const noGamesMessage = document.getElementById('noGamesMessage');
            const gameStats = document.getElementById('gameStats');
            
            // Carregar painel do usuário
            loadUserPanel();
            
            // Verificar acesso admin
            checkAdminAccess();
            
            // Carregar jogos criados
            displayCustomGames();
            
            // Mostrar loading
            loadingSpinner.style.display = 'block';
            noGamesMessage.style.display = 'none';
            
            // Simular carregamento
            setTimeout(() => {
                loadingSpinner.style.display = 'none';
                const games = JSON.parse(localStorage.getItem('customGames') || '[]');
                if (games.length === 0) {
                    noGamesMessage.style.display = 'block';
                    gameStats.innerHTML = '<i class="fas fa-plus-circle me-2"></i>Nenhum jogo criado ainda - Use "Criar Jogo" para adicionar!';
                } else {
                    gameStats.innerHTML = `<i class="fas fa-gamepad me-2"></i>${games.length} jogo(s) disponível(is)`;
                }
            }, 2000);
            
            // Event listeners para os filtros
            document.getElementById('searchInput').addEventListener('input', updateSearch);
            document.getElementById('categoryFilter').addEventListener('change', updateSearch);
        });
        
        function updateSearch() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const category = document.getElementById('categoryFilter').value;
            const games = JSON.parse(localStorage.getItem('customGames') || '[]');
            
            let filteredGames = games;
            
            // Filtrar por categoria
            if (category) {
                filteredGames = filteredGames.filter(game => {
                    // Verificar categories (array)
                    if (game.categories && Array.isArray(game.categories)) {
                        return game.categories.some(cat => cat.toLowerCase() === category.toLowerCase());
                    }
                    // Verificar category (string única)
                    if (game.category && game.category.toLowerCase() === category.toLowerCase()) {
                        return true;
                    }
                    return false;
                });
            }
            
            // Filtrar por nome
            if (searchTerm) {
                filteredGames = filteredGames.filter(game => 
                    (game.name && game.name.toLowerCase().includes(searchTerm)) ||
                    (game.developer && game.developer.toLowerCase().includes(searchTerm)) ||
                    (game.description && game.description.toLowerCase().includes(searchTerm))
                );
            }
            
            // Atualizar exibição
            displayFilteredGames(filteredGames);
            
            // Atualizar stats
            const gameStats = document.getElementById('gameStats');
            gameStats.innerHTML = `<i class="fas fa-gamepad me-2"></i>${filteredGames.length} jogo(s) encontrado(s)`;
        }
        
        function displayFilteredGames(games) {
            const grid = document.getElementById('customGamesGrid');
            const noGamesMessage = document.getElementById('noGamesMessage');
            
            if (games.length === 0) {
                grid.innerHTML = '';
                noGamesMessage.style.display = 'block';
                noGamesMessage.style.display = 'none';
                return;
            }
            
            noGamesMessage.style.display = 'none';
            grid.innerHTML = games.map(game => `
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="game-card" style="
                        background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
                        border: 2px solid rgba(0, 255, 255, 0.3);
                        border-radius: 20px;
                        overflow: hidden;
                        transition: all 0.3s ease;
                        position: relative;
                        backdrop-filter: blur(20px);
                        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
                        cursor: pointer;
                    " onmouseover="
                        this.style.transform='translateY(-8px)';
                        this.style.boxShadow='0 15px 35px rgba(0, 255, 255, 0.3)';
                        this.style.borderColor='var(--neon-cyan)';
                    " onmouseout="
                        this.style.transform='translateY(0)';
                        this.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.3)';
                        this.style.borderColor='rgba(0, 255, 255, 0.3)';
                    " onclick="playGame('${game.name}')">
                        <div style="position: relative; overflow: hidden;">
                            <img src="${game.imageUrl}" style="
                                width: 100%;
                                height: 180px;
                                object-fit: cover;
                                transition: transform 0.3s ease;
                            " alt="${game.name}" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <div style="
                                position: absolute;
                                top: 10px;
                                right: 10px;
                                background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                color: #000;
                                padding: 5px 10px;
                                border-radius: 15px;
                                font-size: 0.8rem;
                                font-weight: 700;
                                box-shadow: 0 4px 15px rgba(0, 255, 255, 0.4);
                            ">⭐ ${game.rating}</div>
                        </div>
                        <div style="padding: 20px;">
                            <h5 style="
                                color: var(--neon-cyan);
                                font-family: 'Orbitron', monospace;
                                font-weight: 700;
                                font-size: 1.1rem;
                                margin-bottom: 10px;
                                text-shadow: 0 0 10px var(--neon-cyan);
                            ">${game.name}</h5>
                            <p style="
                                color: rgba(255, 255, 255, 0.8);
                                font-size: 0.9rem;
                                line-height: 1.4;
                                margin-bottom: 15px;
                                height: 60px;
                                overflow: hidden;
                                display: -webkit-box;
                                -webkit-line-clamp: 3;
                                -webkit-box-orient: vertical;
                            ">${game.description}</p>
                            <div style="margin-bottom: 15px;">
                                ${game.categories ? game.categories.slice(0, 2).map(cat => `
                                    <span style="
                                        background: linear-gradient(45deg, var(--neon-purple), rgba(138, 43, 226, 0.8));
                                        color: #fff;
                                        padding: 4px 8px;
                                        border-radius: 10px;
                                        font-size: 0.7rem;
                                        font-weight: 600;
                                        text-transform: uppercase;
                                        margin-right: 5px;
                                        margin-bottom: 5px;
                                        display: inline-block;
                                        text-shadow: 0 0 5px var(--neon-purple);
                                    ">${cat}</span>
                                `).join('') + (game.categories.length > 2 ? `<span style="
                                    background: rgba(255, 255, 255, 0.1);
                                    color: rgba(255, 255, 255, 0.7);
                                    padding: 4px 8px;
                                    border-radius: 10px;
                                    font-size: 0.7rem;
                                    font-weight: 600;
                                    margin-right: 5px;
                                    display: inline-block;
                                ">+${game.categories.length - 2}</span>` : '') : `<span style="
                                    background: linear-gradient(45deg, var(--neon-purple), rgba(138, 43, 226, 0.8));
                                    color: #fff;
                                    padding: 4px 8px;
                                    border-radius: 10px;
                                    font-size: 0.7rem;
                                    font-weight: 600;
                                    text-transform: uppercase;
                                    text-shadow: 0 0 5px var(--neon-purple);
                                ">${game.category}</span>`}
                            </div>
                            <div style="
                                color: rgba(255, 255, 255, 0.6);
                                font-size: 0.8rem;
                                font-style: italic;
                            ">Por: ${game.developer}</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function createGame() {
            showCreateGameModal();
        }
        
        function showCreateGameModal() {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.id = 'createGameModal';
            modal.innerHTML = `
                <div class="modal-dialog modal-xl">
                    <div class="modal-content" style="
                        background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #111111 100%);
                        border: none;
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: conic-gradient(from 0deg, transparent, rgba(0, 255, 255, 0.05), transparent);
                            animation: rotate 20s linear infinite;
                            opacity: 0.3;
                        "></div>
                        
                        <div class="modal-header" style="
                            background: linear-gradient(90deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
                            border-bottom: 3px solid var(--neon-cyan);
                            padding: 30px;
                            position: relative;
                            z-index: 2;
                        ">
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <div style="
                                    width: 60px;
                                    height: 60px;
                                    background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                    border-radius: 15px;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    font-size: 1.8rem;
                                    color: #000;
                                    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
                                    animation: iconPulse 3s ease-in-out infinite;
                                ">
                                    <i class="fas fa-gamepad"></i>
                                </div>
                                <div>
                                    <h2 style="
                                        font-family: 'Orbitron', monospace;
                                        font-weight: 900;
                                        font-size: 2.5rem;
                                        color: var(--neon-cyan);
                                        text-shadow: 0 0 20px var(--neon-cyan);
                                        margin: 0;
                                        line-height: 1;
                                    ">CRIAR JOGO</h2>
                                    <p style="
                                        color: rgba(255, 255, 255, 0.7);
                                        margin: 5px 0 0 0;
                                        font-size: 1.1rem;
                                        font-family: 'Rajdhani', sans-serif;
                                    ">Publique seu jogo na plataforma</p>
                                </div>
                            </div>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" style="
                                background: rgba(0, 0, 0, 0.8);
                                border: 2px solid var(--neon-cyan);
                                border-radius: 50%;
                                width: 50px;
                                height: 50px;
                                opacity: 1;
                                filter: none;
                                position: relative;
                            ">
                                <i class="fas fa-times" style="color: var(--neon-cyan); font-size: 1.2rem;"></i>
                            </button>
                        </div>
                        <div class="modal-body" style="padding: 30px;">
                            <form id="createGameForm">
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <label class="form-label" style="color: #fff; font-weight: 500;">Nome do Jogo</label>
                                        <input type="text" class="form-control" name="gameName" required style="background: #333; border: 1px solid #555; color: #fff; border-radius: 8px;">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" style="color: #fff; font-weight: 500;">Desenvolvedor</label>
                                        <input type="text" class="form-control" name="developer" required style="background: #333; border: 1px solid #555; color: #fff; border-radius: 8px;">
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Categorias</label>
                                        
                                        <div id="categoriesContainer" style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(0, 255, 255, 0.3); border-radius: 15px; padding: 20px; min-height: 80px; backdrop-filter: blur(10px);">
                                            <div id="selectedCategories" style="display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 15px;"></div>
                                            <button type="button" id="addCategoryBtn" onclick="showCategorySelector()" style="background: linear-gradient(45deg, rgba(0, 255, 255, 0.1), rgba(0, 255, 255, 0.05)); border: 2px dashed var(--neon-cyan); color: var(--neon-cyan); padding: 12px 20px; border-radius: 25px; cursor: pointer; font-size: 1.4rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0, 255, 255, 0.2);" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 6px 20px rgba(0, 255, 255, 0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 15px rgba(0, 255, 255, 0.2)';">+ Adicionar Categoria</button>
                                            
                                            <div id="categorySelector" style="display: none; margin-top: 20px; background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(34, 34, 34, 0.9)); border: 2px solid rgba(0, 255, 255, 0.4); border-radius: 15px; padding: 20px; max-height: 250px; overflow-y: auto; backdrop-filter: blur(15px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);">
                                                <div class="row g-2">
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="acao" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Ação</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="aventura" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Aventura</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="rpg" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> RPG</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="estrategia" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Estratégia</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="terror" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Terror</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="survival" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Sobrevivência</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="corrida" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Corrida</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="esporte" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Esporte</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="puzzle" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Puzzle</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="tiro" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Tiro</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="simulacao" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Simulação</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="plataforma" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Plataforma</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="luta" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Luta</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="musical" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Musical</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="indie" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Indie</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="casual" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Casual</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="mmo" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> MMO</label></div>
                                                    <div class="col-md-3"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="sandbox" onchange="toggleCategoryTag(this)" style="margin-right: 8px;"> Sandbox</label></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Data de Lançamento</label>
                                        <input type="date" class="form-control" name="releaseDate" required style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                        ">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Avaliação</label>
                                        <input type="number" class="form-control" name="rating" min="1" max="5" step="0.1" required style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                        ">
                                    </div>
                                    <div class="col-md-4">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Jogadores</label>
                                        <input type="text" class="form-control" name="players" placeholder="1-4 Cooperativo" style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                        ">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Idiomas</label>
                                        <input type="text" class="form-control" name="languages" placeholder="Português, Inglês, Espanhol" style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                        ">
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Classificação Etária</label>
                                        <input type="text" class="form-control" name="ageRating" placeholder="18+ (Violência, Terror)" style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                        ">
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Características (separadas por vírgula)</label>
                                        <textarea class="form-control" name="features" rows="2" placeholder="Multijogador Online, Cooperativo, Terror Psicológico, Primeira Pessoa, Sobrevivência, Atmosférico" style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                            resize: vertical;
                                        "></textarea>
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" style="color: #fff; font-weight: 500;">Link do Jogo</label>
                                        <input type="url" class="form-control" name="gameUrl" required style="background: #333; border: 1px solid #555; color: #fff; border-radius: 8px;">
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">URL da Imagem</label>
                                        <div style="display: grid; grid-template-columns: 1fr auto; gap: 20px; align-items: start;">
                                            <div>
                                                <input type="url" class="form-control" name="imageUrl" required onchange="previewGameImage(this.value)" style="
                                                    background: rgba(0, 0, 0, 0.8);
                                                    border: 2px solid rgba(0, 255, 255, 0.4);
                                                    color: #fff;
                                                    border-radius: 10px;
                                                    padding: 12px;
                                                    margin-bottom: 10px;
                                                ">
                                                <small style="color: rgba(255, 255, 255, 0.6); font-size: 0.8rem;">💡 Cole a URL da imagem para ver uma prévia</small>
                                            </div>
                                            <div id="imagePreview" style="
                                                width: 150px;
                                                height: 100px;
                                                background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
                                                border: 2px dashed rgba(0, 255, 255, 0.3);
                                                border-radius: 10px;
                                                display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                color: rgba(255, 255, 255, 0.5);
                                                font-size: 0.8rem;
                                                text-align: center;
                                                overflow: hidden;
                                                position: relative;
                                            ">
                                                <div id="previewPlaceholder">
                                                    <i class="fas fa-image" style="font-size: 1.5rem; margin-bottom: 5px; display: block;"></i>
                                                    Prévia da Imagem
                                                </div>
                                                <img id="previewImage" style="
                                                    width: 100%;
                                                    height: 100%;
                                                    object-fit: cover;
                                                    border-radius: 8px;
                                                    display: none;
                                                ">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600; text-transform: uppercase;">Descrição</label>
                                        <textarea class="form-control" name="description" rows="3" required style="
                                            background: rgba(0, 0, 0, 0.8);
                                            border: 2px solid rgba(0, 255, 255, 0.4);
                                            color: #fff;
                                            border-radius: 10px;
                                            padding: 12px;
                                            resize: vertical;
                                        "></textarea>
                                    </div>
                                    
                                    <div class="col-12">
                                        <h4 style="color: var(--neon-cyan); margin: 20px 0 15px; text-align: center; text-shadow: 0 0 15px var(--neon-cyan);">REQUISITOS DO SISTEMA</h4>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                                            <div style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(255, 165, 0, 0.3); border-radius: 15px; padding: 20px;">
                                                <h5 style="color: var(--neon-orange); margin-bottom: 15px; text-align: center;">MÍNIMOS</h5>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Sistema Operacional:</label>
                                                    <input type="text" class="form-control" name="minOS" placeholder="Windows 10 64-bit" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(255, 165, 0, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Processador:</label>
                                                    <input type="text" class="form-control" name="minProcessor" placeholder="Intel i5-4590 / AMD FX 8350" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(255, 165, 0, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Memória:</label>
                                                    <input type="text" class="form-control" name="minMemory" placeholder="8 GB RAM" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(255, 165, 0, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Placa de Vídeo:</label>
                                                    <input type="text" class="form-control" name="minGraphics" placeholder="GTX 1060 / RX 580" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(255, 165, 0, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Armazenamento:</label>
                                                    <input type="text" class="form-control" name="minStorage" placeholder="15 GB disponíveis" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(255, 165, 0, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                            </div>
                                            
                                            <div style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(57, 255, 20, 0.3); border-radius: 15px; padding: 20px;">
                                                <h5 style="color: var(--neon-green); margin-bottom: 15px; text-align: center;">RECOMENDADOS</h5>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Sistema Operacional:</label>
                                                    <input type="text" class="form-control" name="recOS" placeholder="Windows 11 64-bit" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(57, 255, 20, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Processador:</label>
                                                    <input type="text" class="form-control" name="recProcessor" placeholder="Intel i7-8700K / AMD Ryzen 5 3600" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(57, 255, 20, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Memória:</label>
                                                    <input type="text" class="form-control" name="recMemory" placeholder="16 GB RAM" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(57, 255, 20, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Placa de Vídeo:</label>
                                                    <input type="text" class="form-control" name="recGraphics" placeholder="RTX 3070 / RX 6700 XT" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(57, 255, 20, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                                <div class="mb-3">
                                                    <label class="form-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem;">Armazenamento:</label>
                                                    <input type="text" class="form-control" name="recStorage" placeholder="15 GB SSD" style="background: rgba(0, 0, 0, 0.8); border: 1px solid rgba(57, 255, 20, 0.4); color: #fff; border-radius: 8px; padding: 10px;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer" style="border-top: 1px solid rgba(0, 255, 255, 0.3); padding: 20px 30px;">
                            <button type="button" class="btn" data-bs-dismiss="modal" style="
                                background: rgba(0, 0, 0, 0.8);
                                border: 2px solid rgba(255, 255, 255, 0.3);
                                color: #fff;
                                padding: 10px 20px;
                                border-radius: 8px;
                                margin-right: 10px;
                            ">Cancelar</button>
                            <button type="button" class="btn" onclick="submitCreateGame()" style="
                                background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                color: #000;
                                border: none;
                                padding: 10px 25px;
                                border-radius: 8px;
                                font-weight: 700;
                                text-transform: uppercase;
                            ">
                                <i class="fas fa-rocket me-2"></i>Criar Jogo
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            const bootstrapModal = new bootstrap.Modal(modal);
            bootstrapModal.show();
            
            modal.addEventListener('hidden.bs.modal', () => {
                document.body.removeChild(modal);
            });
        }
        

        
        // Adicionar CSS para animações
        const categoryStyles = document.createElement('style');
        categoryStyles.textContent = `
            @keyframes borderGlow {
                0%, 100% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
            }
            
            @keyframes rotate {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            .category-card:hover {
                transform: translateY(-5px) scale(1.02) !important;
                box-shadow: 0 15px 35px rgba(0, 255, 255, 0.3) !important;
            }
            
            .category-card:hover .check-indicator {
                opacity: 0.5 !important;
                transform: scale(0.8) !important;
            }
        `;
        document.head.appendChild(categoryStyles);
        
        // Função para preview da imagem
        function previewGameImage(url) {
            const previewContainer = document.getElementById('imagePreview');
            const placeholder = document.getElementById('previewPlaceholder');
            const previewImage = document.getElementById('previewImage');
            
            if (!url || url.trim() === '') {
                // Mostrar placeholder
                placeholder.style.display = 'block';
                previewImage.style.display = 'none';
                previewContainer.style.border = '2px dashed rgba(0, 255, 255, 0.3)';
                previewContainer.style.background = 'linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8))';
                previewContainer.style.boxShadow = 'none';
                return;
            }
            
            // Mostrar loading
            placeholder.innerHTML = `
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <div style="
                        width: 20px;
                        height: 20px;
                        border: 2px solid rgba(0, 255, 255, 0.3);
                        border-top: 2px solid var(--neon-cyan);
                        border-radius: 50%;
                        animation: spin 1s linear infinite;
                        margin-bottom: 8px;
                    "></div>
                    <span style="font-size: 0.7rem;">Carregando...</span>
                </div>
            `;
            placeholder.style.display = 'block';
            previewImage.style.display = 'none';
            
            // Tentar carregar a imagem
            const img = new Image();
            img.onload = function() {
                previewImage.src = url;
                placeholder.style.display = 'none';
                previewImage.style.display = 'block';
                previewContainer.style.border = '2px solid var(--neon-cyan)';
                previewContainer.style.background = 'transparent';
                previewContainer.style.boxShadow = '0 0 15px rgba(0, 255, 255, 0.3)';
            };
            img.onerror = function() {
                placeholder.innerHTML = `
                    <div style="color: #ff0040; text-align: center;">
                        <i class="fas fa-exclamation-triangle" style="font-size: 1.2rem; margin-bottom: 5px; display: block;"></i>
                        <span style="font-size: 0.7rem;">Erro ao carregar</span>
                    </div>
                `;
                previewImage.style.display = 'none';
                placeholder.style.display = 'block';
                previewContainer.style.border = '2px dashed #ff0040';
                previewContainer.style.background = 'linear-gradient(145deg, rgba(255, 0, 64, 0.1), rgba(0, 0, 0, 0.9))';
                previewContainer.style.boxShadow = 'none';
            };
            img.src = url;
        }
        
        function submitCreateGame() {
            const form = document.getElementById('createGameForm');
            const formData = new FormData(form);
            
            // Pegar categorias selecionadas dos checkboxes
            const selectedCategories = [];
            const checkboxes = form.querySelectorAll('input[name="categories"]:checked');
            checkboxes.forEach(checkbox => selectedCategories.push(checkbox.value));
            
            const currentUser = localStorage.getItem('currentUser');
            const gameData = {
                name: formData.get('gameName'),
                developer: formData.get('developer'),
                createdBy: currentUser,
                categories: selectedCategories,
                category: selectedCategories[0] || 'indie',
                gameUrl: formData.get('gameUrl'),
                rating: formData.get('rating'),
                imageUrl: formData.get('imageUrl'),
                description: formData.get('description'),
                releaseDate: formData.get('releaseDate'),
                players: formData.get('players'),
                languages: formData.get('languages'),
                ageRating: formData.get('ageRating'),
                features: formData.get('features') ? formData.get('features').split(',').map(f => f.trim()).filter(f => f) : [],
                systemRequirements: {
                    minimum: {
                        os: formData.get('minOS') || '',
                        processor: formData.get('minProcessor') || '',
                        memory: formData.get('minMemory') || '',
                        graphics: formData.get('minGraphics') || '',
                        storage: formData.get('minStorage') || ''
                    },
                    recommended: {
                        os: formData.get('recOS') || '',
                        processor: formData.get('recProcessor') || '',
                        memory: formData.get('recMemory') || '',
                        graphics: formData.get('recGraphics') || '',
                        storage: formData.get('recStorage') || ''
                    }
                },
                createdAt: new Date().toISOString()
            };
            
            // Criar pasta do jogo e salvar arquivos
            const gameFolderName = gameData.name.replace(/[^a-zA-Z0-9]/g, '_');
            
            // Salvar no localStorage
            let games = JSON.parse(localStorage.getItem('customGames') || '[]');
            games.push(gameData);
            localStorage.setItem('customGames', JSON.stringify(games));
            
            // Criar estrutura de pastas
            createGameFolder(gameFolderName, gameData);
            
            // Fechar modal
            bootstrap.Modal.getInstance(document.getElementById('createGameModal')).hide();
            
            // Mostrar jogo criado
            displayCustomGames();
            
            // Mostrar sucesso
            alert('🎮 Jogo criado com sucesso!');
        }
        
        async function createGameFolder(folderName, gameData) {
            try {
                const gameFolder = `Jogos-salvos/${folderName}`;
                
                const gameInfo = {
                    ...gameData,
                    folderPath: gameFolder,
                    createdAt: new Date().toISOString()
                };
                
                console.log(`📁 Pasta criada: ${gameFolder}`);
                console.log(`💾 Arquivo salvo: ${gameFolder}/game-info.json`);
                console.log(`🎮 Jogo "${gameData.name}" organizado com sucesso!`);
                
                showFolderNotification(folderName);
                
            } catch (error) {
                console.error('Erro ao criar pasta do jogo:', error);
            }
        }
        
        function showFolderNotification(folderName) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: -400px;
                width: 350px;
                background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
                border: 2px solid var(--neon-cyan);
                border-radius: 15px;
                padding: 20px;
                z-index: 10000;
                backdrop-filter: blur(20px);
                transition: all 0.4s ease;
                font-family: 'Orbitron', monospace;
                color: #fff;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="font-size: 2rem; color: var(--neon-cyan);">
                        <i class="fas fa-folder"></i>
                    </div>
                    <div>
                        <h3 style="font-size: 1rem; margin: 0 0 5px 0; color: var(--neon-cyan); font-weight: 700;">📁 PASTA CRIADA</h3>
                        <p style="font-size: 0.9rem; margin: 0; color: rgba(255, 255, 255, 0.8);">Jogos-salvos/${folderName}/</p>
                    </div>
                    <button onclick="this.parentElement.parentElement.style.right='-400px'" style="background: none; border: none; color: rgba(255, 255, 255, 0.5); font-size: 1.2rem; cursor: pointer;">×</button>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => notification.style.right = '20px', 100);
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    notification.style.right = '-400px';
                    setTimeout(() => document.body.removeChild(notification), 400);
                }
            }, 4000);
        }
        
        function showCategorySelector() {
            document.getElementById('categorySelector').style.display = 'block';
        }
        
        function toggleCategoryTag(checkbox) {
            const selectedContainer = document.getElementById('selectedCategories');
            const addBtn = document.getElementById('addCategoryBtn');
            
            if (checkbox.checked) {
                // Adicionar tag
                const tag = document.createElement('span');
                tag.id = `tag_${checkbox.value}`;
                tag.style.cssText = `
                    background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                    color: #000;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 0.85rem;
                    font-weight: 700;
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                    box-shadow: 0 4px 15px rgba(0, 255, 255, 0.3);
                    transition: all 0.3s ease;
                    cursor: default;
                    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
                `;
                tag.innerHTML = `${checkbox.nextSibling.textContent.trim()} <span onclick="removeCategory('${checkbox.value}')" style="cursor: pointer; font-weight: bold; background: rgba(0, 0, 0, 0.2); border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; transition: all 0.2s ease;" onmouseover="this.style.background='rgba(255, 0, 0, 0.8)'; this.style.color='#fff';" onmouseout="this.style.background='rgba(0, 0, 0, 0.2)'; this.style.color='#000';">×</span>`;
                selectedContainer.appendChild(tag);
            } else {
                // Remover tag
                const tag = document.getElementById(`tag_${checkbox.value}`);
                if (tag) tag.remove();
            }
            
            // Mover botão + para o final
            selectedContainer.appendChild(addBtn);
        }
        
        function removeCategory(value) {
            const checkbox = document.querySelector(`input[value="${value}"]`);
            const tag = document.getElementById(`tag_${value}`);
            
            if (checkbox) checkbox.checked = false;
            if (tag) tag.remove();
        }
        
        function displayCustomGames() {
            const games = JSON.parse(localStorage.getItem('customGames') || '[]');
            const shuffledGames = games.sort(() => Math.random() - 0.5);
            displayFilteredGames(shuffledGames);
            
            // Atualizar stats
            const gameStats = document.getElementById('gameStats');
            if (games.length > 0) {
                gameStats.innerHTML = `<i class="fas fa-gamepad me-2"></i>${games.length} jogo(s) disponível(is)`;
            } else {
                gameStats.innerHTML = '<i class="fas fa-plus-circle me-2"></i>Nenhum jogo criado ainda - Use "Criar Jogo" para adicionar!';
            }
        }

        function uploadGame() {
            alert('📤 Funcionalidade "Upload" em desenvolvimento!');
        }

        function myGames() {
            // Filtrar apenas jogos do usuário atual
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('⚠️ Você precisa estar logado para ver seus jogos!');
                return;
            }
            
            const allGames = JSON.parse(localStorage.getItem('customGames') || '[]');
            const userGames = allGames.filter(game => game.createdBy === currentUser);
            
            showMyGamesModal(userGames);
        }
        
        function showMyGamesModal(userGames = []) {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.id = 'myGamesModal';
            modal.innerHTML = `
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content" style="background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%); border: 2px solid var(--neon-cyan);">
                        <div class="modal-header" style="border-bottom: 2px solid var(--neon-cyan);">
                            <h5 class="modal-title" style="font-family: 'Orbitron', monospace; font-size: 2rem; color: var(--neon-cyan); text-shadow: 0 0 15px var(--neon-cyan);">
                                <i class="fas fa-folder me-3"></i>MEUS JOGOS CRIADOS
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body" style="padding: 30px;">
                            <div class="search-panel" style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(0, 255, 255, 0.3); border-radius: 25px; padding: 30px; margin-bottom: 30px;">
                                <div class="row g-3">
                                    <div class="col-md-8">
                                        <div style="position: relative;">
                                            <i class="fas fa-search" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--neon-cyan); font-size: 1.2rem;"></i>
                                            <input type="text" class="form-control" placeholder="Buscar meus jogos..." id="myGamesSearchInput" style="padding-left: 55px; background: rgba(0, 0, 0, 0.8); border: 2px solid rgba(0, 255, 255, 0.4); color: #fff; border-radius: 15px; padding-top: 15px; padding-bottom: 15px;">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <select class="form-control" id="myGamesCategoryFilter" style="background: rgba(0, 0, 0, 0.8); border: 2px solid rgba(0, 255, 255, 0.4); color: #fff; border-radius: 15px; padding: 15px;">
                                            <option value="">Todas Categorias</option>
                                            <option value="acao">Ação</option>
                                            <option value="aventura">Aventura</option>
                                            <option value="rpg">RPG</option>
                                            <option value="estrategia">Estratégia</option>
                                            <option value="corrida">Corrida</option>
                                            <option value="esporte">Esporte</option>
                                            <option value="puzzle">Puzzle</option>
                                            <option value="tiro">Tiro</option>
                                            <option value="terror">Terror</option>
                                            <option value="simulacao">Simulação</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="stats-bar" style="background: linear-gradient(90deg, rgba(0, 0, 0, 0.8), rgba(17, 17, 17, 0.6)); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 15px; padding: 15px; margin-top: 20px; text-align: center;">
                                    <div class="stats-text" style="font-family: 'Orbitron', monospace; font-size: 1.1rem; color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan);" id="myGamesStats">
                                        <i class="fas fa-gamepad me-2"></i>Carregando jogos criados...
                                    </div>
                                </div>
                            </div>
                            <div id="myGamesGrid" class="row">
                                <!-- Jogos criados aparecerão aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            const bootstrapModal = new bootstrap.Modal(modal);
            bootstrapModal.show();
            
            // Carregar jogos do usuário
            loadMyGames(userGames);
            
            // Event listeners para filtros
            document.getElementById('myGamesSearchInput').addEventListener('input', updateMyGamesSearch);
            document.getElementById('myGamesCategoryFilter').addEventListener('change', updateMyGamesSearch);
            
            modal.addEventListener('hidden.bs.modal', () => {
                document.body.removeChild(modal);
            });
        }
        
        function loadMyGames(userGames = []) {
            displayMyGames(userGames);
            
            // Atualizar stats
            const gameStats = document.getElementById('myGamesStats');
            if (userGames.length > 0) {
                gameStats.innerHTML = `<i class="fas fa-gamepad me-2"></i>${userGames.length} jogo(s) criado(s)`;
            } else {
                gameStats.innerHTML = '<i class="fas fa-plus-circle me-2"></i>Nenhum jogo criado ainda';
            }
        }
        
        function updateMyGamesSearch() {
            const searchTerm = document.getElementById('myGamesSearchInput').value.toLowerCase();
            const category = document.getElementById('myGamesCategoryFilter').value;
            const currentUser = localStorage.getItem('currentUser');
            const allGames = JSON.parse(localStorage.getItem('customGames') || '[]');
            const games = allGames.filter(game => game.createdBy === currentUser);
            
            let filteredGames = games;
            
            // Filtrar por categoria
            if (category) {
                filteredGames = filteredGames.filter(game => {
                    // Verificar categories (array)
                    if (game.categories && Array.isArray(game.categories)) {
                        return game.categories.some(cat => cat.toLowerCase() === category.toLowerCase());
                    }
                    // Verificar category (string única)
                    if (game.category && game.category.toLowerCase() === category.toLowerCase()) {
                        return true;
                    }
                    return false;
                });
            }
            
            // Filtrar por nome
            if (searchTerm) {
                filteredGames = filteredGames.filter(game => 
                    (game.name && game.name.toLowerCase().includes(searchTerm)) ||
                    (game.developer && game.developer.toLowerCase().includes(searchTerm)) ||
                    (game.description && game.description.toLowerCase().includes(searchTerm))
                );
            }
            
            // Atualizar exibição
            displayMyGames(filteredGames);
            
            // Atualizar stats
            const gameStats = document.getElementById('myGamesStats');
            gameStats.innerHTML = `<i class="fas fa-gamepad me-2"></i>${filteredGames.length} jogo(s) encontrado(s)`;
        }
        
        function displayMyGames(games) {
            const grid = document.getElementById('myGamesGrid');
            
            if (games.length === 0) {
                grid.innerHTML = `
                    <div class="col-12 text-center" style="padding: 100px 20px;">
                        <div style="font-size: 5rem; color: var(--neon-cyan); margin-bottom: 30px; opacity: 0.5;">
                            <i class="fas fa-folder-open"></i>
                        </div>
                        <h3 style="font-family: 'Orbitron', monospace; color: var(--neon-cyan); margin-bottom: 20px;">Nenhum jogo encontrado</h3>
                        <p style="color: rgba(255, 255, 255, 0.6); font-size: 1.2rem;">Crie jogos usando o botão "Criar Jogo"</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = games.map(game => `
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card game-card h-100" style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(0, 255, 255, 0.3); border-radius: 20px; overflow: hidden; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 15px 35px rgba(0, 255, 255, 0.3)'; this.style.borderColor='var(--neon-cyan)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.3)'; this.style.borderColor='rgba(0, 255, 255, 0.3)';">
                        <div style="position: relative; overflow: hidden;">
                            <img src="${game.imageUrl}" class="card-img-top" style="width: 100%; height: 180px; object-fit: cover; transition: transform 0.3s ease;" alt="${game.name}" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <div style="position: absolute; top: 10px; right: 10px; background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8)); color: #000; padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; font-weight: 700; box-shadow: 0 4px 15px rgba(0, 255, 255, 0.4);">⭐ ${game.rating}</div>
                        </div>
                        <div class="card-body" style="padding: 20px;">
                            <h5 class="card-title" style="color: var(--neon-cyan); font-family: 'Orbitron', monospace; font-weight: 700; font-size: 1.1rem; margin-bottom: 10px; text-shadow: 0 0 10px var(--neon-cyan);">${game.name}</h5>
                            <p class="card-text" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; line-height: 1.4; margin-bottom: 15px; height: 60px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;">${game.description}</p>
                            <div style="margin-bottom: 15px;">
                                <span style="background: linear-gradient(45deg, var(--neon-purple), rgba(138, 43, 226, 0.8)); color: #fff; padding: 4px 8px; border-radius: 10px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; text-shadow: 0 0 5px var(--neon-purple);">${game.category}</span>
                            </div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; font-style: italic; margin-bottom: 15px;">Por: ${game.developer}</div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn" onclick="playGame('${game.name}')" style="flex: 1; background: rgba(0, 0, 0, 0.8); border: 2px solid var(--neon-cyan); color: var(--neon-cyan); padding: 8px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; border-radius: 8px; transition: all 0.3s ease; font-size: 0.8rem;">
                                    <i class="fas fa-play me-1"></i>JOGAR
                                </button>
                                <button class="btn" onclick="transferGame('${game.name}')" style="background: rgba(0, 0, 0, 0.8); border: 2px solid var(--neon-purple); color: var(--neon-purple); padding: 8px 12px; border-radius: 8px; transition: all 0.3s ease;" title="Transferir propriedade">
                                    <i class="fas fa-user-friends"></i>
                                </button>
                                <button class="btn" onclick="editGame('${game.name}')" style="background: rgba(0, 0, 0, 0.8); border: 2px solid var(--neon-orange); color: var(--neon-orange); padding: 8px 12px; border-radius: 8px; transition: all 0.3s ease;">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn" onclick="deleteGame('${game.name}')" style="background: rgba(0, 0, 0, 0.8); border: 2px solid #ff0040; color: #ff0040; padding: 8px 12px; border-radius: 8px; transition: all 0.3s ease;">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function playGame(gameName) {
            const games = JSON.parse(localStorage.getItem('customGames') || '[]');
            const game = games.find(g => g.name === gameName);
            if (game) {
                showGameScreen(game);
            }
        }
        
        function showGameScreen(game) {
            const gameScreen = document.createElement('div');
            gameScreen.className = 'game-screen';
            gameScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: linear-gradient(135deg, rgba(0, 0, 0, 0.98), rgba(17, 17, 17, 0.95));
                z-index: 10000;
                overflow-y: auto;
                color: #fff;
                font-family: 'Rajdhani', sans-serif;
            `;
            
            gameScreen.innerHTML = `
                <!-- Background -->
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;">
                    <img src="${game.imageUrl}" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.15; filter: blur(3px);" alt="Background">
                    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));"></div>
                </div>
                
                <!-- Close Button -->
                <button onclick="closeGameScreen()" style="
                    position: fixed;
                    top: 30px;
                    right: 30px;
                    background: rgba(0, 0, 0, 0.9);
                    border: 2px solid var(--neon-cyan);
                    color: var(--neon-cyan);
                    width: 60px;
                    height: 60px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.5rem;
                    cursor: pointer;
                    transition: all 0.3s ease;
                    backdrop-filter: blur(20px);
                    z-index: 1000;
                    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
                " onmouseover="this.style.transform='scale(1.1)'; this.style.boxShadow='0 0 30px var(--neon-cyan)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.5)';">
                    <i class="fas fa-times"></i>
                </button>
                
                <!-- Main Content -->
                <div style="padding: 40px; max-width: 1400px; margin: 0 auto;">
                    
                    <!-- Hero Banner -->
                    <div style="
                        background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
                        border-radius: 25px;
                        padding: 60px;
                        margin-bottom: 40px;
                        position: relative;
                        overflow: hidden;
                        border: 3px solid rgba(0, 255, 255, 0.3);
                        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
                    ">
                        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: conic-gradient(from 0deg, transparent, rgba(0, 255, 255, 0.1), transparent); animation: rotate 15s linear infinite; opacity: 0.3;"></div>
                        <div style="position: relative; z-index: 2; display: grid; grid-template-columns: 2fr 1fr; gap: 60px; align-items: center;">
                            <div>
                                <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
                                    <span style="
                                        background: linear-gradient(45deg, var(--neon-purple), rgba(138, 43, 226, 0.8));
                                        color: #fff;
                                        padding: 12px 24px;
                                        border-radius: 25px;
                                        font-size: 1rem;
                                        font-weight: 700;
                                        text-transform: uppercase;
                                        text-shadow: 0 0 15px var(--neon-purple);
                                        letter-spacing: 2px;
                                        box-shadow: 0 8px 25px rgba(138, 43, 226, 0.4);
                                    ">${game.category}</span>
                                    
                                    <div style="
                                        background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                        color: #000;
                                        padding: 12px 20px;
                                        border-radius: 20px;
                                        font-size: 1.2rem;
                                        font-weight: 900;
                                        box-shadow: 0 8px 25px rgba(0, 255, 255, 0.4);
                                        display: flex;
                                        align-items: center;
                                        gap: 8px;
                                    ">
                                        <i class="fas fa-star"></i> ${game.rating}
                                    </div>
                                </div>
                                
                                <h1 style="
                                    font-family: 'Orbitron', monospace;
                                    font-size: 5rem;
                                    font-weight: 900;
                                    background: linear-gradient(45deg, var(--neon-cyan), #ffffff, var(--neon-cyan));
                                    -webkit-background-clip: text;
                                    -webkit-text-fill-color: transparent;
                                    background-clip: text;
                                    text-shadow: 0 0 50px var(--neon-cyan);
                                    margin-bottom: 25px;
                                    line-height: 1;
                                    animation: titlePulse 3s ease-in-out infinite;
                                ">${game.name}</h1>
                                
                                <p style="
                                    font-size: 1.4rem;
                                    line-height: 1.7;
                                    color: rgba(255, 255, 255, 0.9);
                                    margin-bottom: 40px;
                                    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.7);
                                    font-weight: 400;
                                ">${game.description}</p>
                                
                                <div style="display: flex; gap: 25px; flex-wrap: wrap;">
                                    <button onclick="downloadGame('${game.gameUrl}')" style="
                                        background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                        color: #000;
                                        border: none;
                                        padding: 20px 50px;
                                        border-radius: 15px;
                                        font-family: 'Orbitron', monospace;
                                        font-weight: 900;
                                        font-size: 1.3rem;
                                        text-transform: uppercase;
                                        letter-spacing: 3px;
                                        cursor: pointer;
                                        transition: all 0.3s ease;
                                        box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
                                        position: relative;
                                        overflow: hidden;
                                    " onmouseover="this.style.transform='translateY(-5px) scale(1.05)'; this.style.boxShadow='0 15px 40px rgba(0, 255, 255, 0.7)';" onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 10px 30px rgba(0, 255, 255, 0.5)';">
                                        <i class="fas fa-download me-3"></i>BAIXAR
                                    </button>
                                    
                                    <button onclick="addToWishlist('${game.name}')" id="favoriteBtn_${game.name.replace(/\s+/g, '_')}" style="
                                        background: rgba(0, 0, 0, 0.8);
                                        border: 3px solid var(--neon-pink);
                                        color: var(--neon-pink);
                                        padding: 20px 35px;
                                        border-radius: 15px;
                                        font-weight: 700;
                                        text-transform: uppercase;
                                        letter-spacing: 2px;
                                        cursor: pointer;
                                        transition: all 0.3s ease;
                                        backdrop-filter: blur(15px);
                                        font-size: 1.1rem;
                                    " onmouseover="this.style.background='rgba(255, 20, 147, 0.1)'; this.style.boxShadow='0 0 25px var(--neon-pink)'; this.style.transform='translateY(-3px)';" onmouseout="this.style.background='rgba(0, 0, 0, 0.8)'; this.style.boxShadow='none'; this.style.transform='translateY(0)';">
                                        <i class="fas fa-heart me-2"></i>FAVORITAR
                                    </button>
                                    
                                    <button onclick="shareGame('${game.name}')" style="
                                        background: rgba(0, 0, 0, 0.8);
                                        border: 3px solid var(--neon-green);
                                        color: var(--neon-green);
                                        padding: 20px 35px;
                                        border-radius: 15px;
                                        font-weight: 700;
                                        text-transform: uppercase;
                                        letter-spacing: 2px;
                                        cursor: pointer;
                                        transition: all 0.3s ease;
                                        backdrop-filter: blur(15px);
                                        font-size: 1.1rem;
                                    " onmouseover="this.style.background='rgba(57, 255, 20, 0.1)'; this.style.boxShadow='0 0 25px var(--neon-green)'; this.style.transform='translateY(-3px)';" onmouseout="this.style.background='rgba(0, 0, 0, 0.8)'; this.style.boxShadow='none'; this.style.transform='translateY(0)';">
                                        <i class="fas fa-share me-2"></i>COMPARTILHAR
                                    </button>
                                </div>
                            </div>
                            
                            <div style="text-align: center;">
                                <img src="${game.imageUrl}" style="
                                    width: 100%;
                                    max-width: 350px;
                                    border-radius: 20px;
                                    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(0, 255, 255, 0.3);
                                    border: 3px solid rgba(0, 255, 255, 0.5);
                                    transition: all 0.3s ease;
                                " alt="${game.name}" onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 25px 80px rgba(0, 0, 0, 0.9), 0 0 60px rgba(0, 255, 255, 0.5)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(0, 255, 255, 0.3)';">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Content Grid -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 30px; margin-bottom: 40px;">
                                <!-- Requisitos do Sistema -->
                                <div style="
                                    background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
                                    border: 2px solid rgba(0, 255, 255, 0.3);
                                    border-radius: 20px;
                                    padding: 30px;
                                    backdrop-filter: blur(20px);
                                ">
                                    <h3 style="
                                        font-family: 'Orbitron', monospace;
                                        color: var(--neon-cyan);
                                        margin-bottom: 25px;
                                        text-shadow: 0 0 15px var(--neon-cyan);
                                        text-align: center;
                                        font-size: 1.3rem;
                                    "><i class="fas fa-microchip me-2"></i>REQUISITOS DO SISTEMA</h3>
                                    
                                    <div style="margin-bottom: 25px;">
                                        <h4 style="color: var(--neon-green); margin-bottom: 15px; font-size: 1.1rem; text-shadow: 0 0 10px var(--neon-green);">MÍNIMOS</h4>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">SO:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.minimum?.os || 'Windows 10 64-bit'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Processador:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.minimum?.processor || 'Intel i5-4590 / AMD FX 8350'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Memória:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.minimum?.memory || '8 GB RAM'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Placa de Vídeo:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.minimum?.graphics || 'GTX 1060 / RX 580'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Armazenamento:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.minimum?.storage || '15 GB disponíveis'}</span>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <h4 style="color: var(--neon-orange); margin-bottom: 15px; font-size: 1.1rem; text-shadow: 0 0 10px var(--neon-orange);">RECOMENDADOS</h4>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">SO:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.recommended?.os || 'Windows 11 64-bit'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Processador:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.recommended?.processor || 'Intel i7-8700K / AMD Ryzen 5 3600'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Memória:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.recommended?.memory || '16 GB RAM'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Placa de Vídeo:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.recommended?.graphics || 'RTX 3070 / RX 6700 XT'}</span>
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="color: rgba(255, 255, 255, 0.6);">Armazenamento:</span>
                                            <span style="color: #fff; font-weight: 500;">${game.systemRequirements?.recommended?.storage || '15 GB SSD'}</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Detalhes do Jogo -->
                                <div style="
                                    background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8));
                                    border: 2px solid rgba(0, 255, 255, 0.3);
                                    border-radius: 20px;
                                    padding: 30px;
                                    backdrop-filter: blur(20px);
                                ">
                                    <h3 style="
                                        font-family: 'Orbitron', monospace;
                                        color: var(--neon-cyan);
                                        margin-bottom: 25px;
                                        text-shadow: 0 0 15px var(--neon-cyan);
                                        text-align: center;
                                        font-size: 1.3rem;
                                    "><i class="fas fa-info-circle me-2"></i>DETALHES DO JOGO</h3>
                                    
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <span style="color: rgba(255, 255, 255, 0.6);">Data de Lançamento:</span>
                                        <span style="color: var(--neon-cyan); font-weight: 600;">${game.releaseDate ? new Date(game.releaseDate).toLocaleDateString('pt-BR') : '28 Jan, 2021'}</span>
                                    </div>
                                    
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <span style="color: rgba(255, 255, 255, 0.6);">Jogadores:</span>
                                        <span style="color: var(--neon-cyan); font-weight: 600;">${game.players || '1-4 Cooperativo'}</span>
                                    </div>
                                    
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <span style="color: rgba(255, 255, 255, 0.6);">Idiomas:</span>
                                        <span style="color: var(--neon-cyan); font-weight: 600;">${game.languages || 'Português, Inglês, Espanhol'}</span>
                                    </div>
                                    
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                        <span style="color: rgba(255, 255, 255, 0.6);">Classificação Etária:</span>
                                        <span style="color: #ff6600; font-weight: 600;">${game.ageRating || '18+ (Violência, Terror)'}</span>
                                    </div>
                                    
                                    <div style="margin-top: 25px;">
                                        <h4 style="color: var(--neon-purple); margin-bottom: 15px; font-size: 1.1rem; text-shadow: 0 0 10px var(--neon-purple);">CARACTERÍSTICAS</h4>
                                        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                                            ${game.features && game.features.length > 0 ? game.features.map(feature => `
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">${feature}</span>
                                            `).join('') : `
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">Multijogador Online</span>
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">Cooperativo</span>
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">Terror Psicológico</span>
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">Primeira Pessoa</span>
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">Sobrevivência</span>
                                                <span style="background: rgba(0, 255, 255, 0.1); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 6px 12px; border-radius: 15px; font-size: 0.8rem; font-weight: 600;">Atmosférico</span>
                                            `}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(gameScreen);
            document.body.style.overflow = 'hidden';
            
            // Scroll suave a 120fps
            let targetScrollTop = 0;
            let currentScrollTop = 0;
            let isScrolling = false;
            
            const smoothScroll = () => {
                if (Math.abs(targetScrollTop - currentScrollTop) > 0.5) {
                    currentScrollTop += (targetScrollTop - currentScrollTop) * 0.15;
                    gameScreen.scrollTop = currentScrollTop;
                    requestAnimationFrame(smoothScroll);
                } else {
                    gameScreen.scrollTop = targetScrollTop;
                    isScrolling = false;
                }
            };
            
            const handleWheel = function(e) {
                e.preventDefault();
                targetScrollTop += e.deltaY;
                targetScrollTop = Math.max(0, Math.min(targetScrollTop, gameScreen.scrollHeight - gameScreen.clientHeight));
                
                if (!isScrolling) {
                    isScrolling = true;
                    currentScrollTop = gameScreen.scrollTop;
                    requestAnimationFrame(smoothScroll);
                }
            };
            
            document.addEventListener('wheel', handleWheel, { passive: false });
            
            // Verificar se já está favoritado e atualizar botão
            setTimeout(() => {
                const currentUser = localStorage.getItem('currentUser');
                if (currentUser) {
                    const userFavorites = JSON.parse(localStorage.getItem(`favorites_${currentUser}`) || '[]');
                    const btn = document.getElementById(`favoriteBtn_${game.name.replace(/\s+/g, '_')}`);
                    if (btn && userFavorites.includes(game.name)) {
                        btn.innerHTML = '<i class="fas fa-heart me-2"></i>FAVORITADO';
                        btn.style.background = 'linear-gradient(45deg, var(--neon-pink), rgba(255, 20, 147, 0.8))';
                        btn.style.color = '#fff';
                    }
                }
            }, 100);
            
            // Adicionar funções globais
            window.closeGameScreen = function() {
                document.removeEventListener('wheel', handleWheel);
                document.body.removeChild(gameScreen);
                document.body.style.overflow = 'auto';
            }
            

            
            // Adicionar CSS para animações
            const style = document.createElement('style');
            style.textContent = `
                @keyframes titlePulse {
                    0%, 100% { text-shadow: 0 0 30px var(--neon-cyan); }
                    50% { text-shadow: 0 0 60px var(--neon-cyan), 0 0 90px var(--neon-cyan); }
                }
                
                @keyframes rotate {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `;
            document.head.appendChild(style);
            
            window.addToWishlist = function(gameName) {
                const currentUser = localStorage.getItem('currentUser');
                if (!currentUser) {
                    alert('⚠️ Você precisa estar logado para favoritar jogos!');
                    return;
                }
                
                let userFavorites = JSON.parse(localStorage.getItem(`favorites_${currentUser}`) || '[]');
                
                if (userFavorites.includes(gameName)) {
                    alert(`💔 ${gameName} já está nos seus favoritos!`);
                    return;
                }
                
                userFavorites.push(gameName);
                localStorage.setItem(`favorites_${currentUser}`, JSON.stringify(userFavorites));
                
                const favoriteBtn = event.target.closest('button');
                if (favoriteBtn) {
                    favoriteBtn.style.animation = 'favoriteButtonSuccess 0.6s ease-out';
                    favoriteBtn.innerHTML = '<i class="fas fa-heart me-2" style="color: var(--neon-pink);"></i>FAVORITADO!';
                    favoriteBtn.style.background = 'linear-gradient(45deg, var(--neon-pink), rgba(255, 20, 147, 0.8))';
                    favoriteBtn.style.color = '#fff';
                    favoriteBtn.style.borderColor = 'var(--neon-pink)';
                    favoriteBtn.style.boxShadow = '0 0 30px rgba(255, 20, 147, 0.6)';
                    
                    setTimeout(() => {
                        favoriteBtn.innerHTML = '<i class="fas fa-heart me-2"></i>FAVORITAR';
                        favoriteBtn.style.animation = '';
                        favoriteBtn.style.background = '';
                        favoriteBtn.style.color = '';
                        favoriteBtn.style.borderColor = '';
                        favoriteBtn.style.boxShadow = '';
                    }, 2000);
                }
                
                showFavoriteNotification(gameName, 'added');
                
                const btnStyle = document.createElement('style');
                btnStyle.textContent = `
                    @keyframes favoriteButtonSuccess {
                        0% { transform: scale(1); }
                        50% { transform: scale(1.1); }
                        100% { transform: scale(1); }
                    }
                `;
                document.head.appendChild(btnStyle);
            }
            
            window.removeFavorite = function(gameName) {
                const currentUser = localStorage.getItem('currentUser');
                if (!currentUser) return;
                
                if (confirm(`💔 Remover "${gameName}" dos favoritos?`)) {
                    let userFavorites = JSON.parse(localStorage.getItem(`favorites_${currentUser}`) || '[]');
                    userFavorites = userFavorites.filter(fav => fav !== gameName);
                    localStorage.setItem(`favorites_${currentUser}`, JSON.stringify(userFavorites));
                    
                    // Atualizar a exibição se estivermos no modal de favoritos
                    const favoritesModal = document.getElementById('favoritesModal');
                    if (favoritesModal) {
                        updateFavoritesSearch();
                    }
                    
                    showFavoriteNotification(gameName, 'removed');
                }
            }
            
            function showFavoriteNotification(gameName, action) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: -400px;
                    width: 350px;
                    background: ${bgGradient};
                    border: 3px solid ${action === 'added' ? 'var(--neon-pink)' : '#ff0040'};
                    border-radius: 20px;
                    padding: 25px;
                    z-index: 10000;
                    backdrop-filter: blur(30px);
                    box-shadow: 
                        0 15px 40px rgba(0, 0, 0, 0.9),
                        0 0 30px ${action === 'added' ? 'rgba(255, 20, 147, 0.4)' : 'rgba(255, 0, 64, 0.4)'},
                        inset 0 2px 0 rgba(255, 255, 255, 0.1);
                    transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                    font-family: 'Orbitron', monospace;
                    color: #fff;
                    animation: favoriteNotificationSlide 0.5s ease-out;
                `;
                
                const icon = action === 'added' ? 'fa-heart' : 'fa-heart-broken';
                const color = action === 'added' ? 'var(--neon-pink)' : '#ff0040';
                const title = action === 'added' ? '💖 ADICIONADO AOS FAVORITOS' : '💔 REMOVIDO DOS FAVORITOS';
                const message = action === 'added' ? `${gameName} foi adicionado aos seus favoritos com amor!` : `${gameName} foi removido dos seus favoritos.`;
                const bgGradient = action === 'added' ? 'linear-gradient(145deg, rgba(255, 20, 147, 0.1), rgba(0, 0, 0, 0.95))' : 'linear-gradient(145deg, rgba(255, 0, 64, 0.1), rgba(0, 0, 0, 0.95))';
                
                notification.innerHTML = `
                    <div style="display: flex; align-items: flex-start; gap: 15px;">
                        <div style="
                            font-size: 2.5rem;
                            color: ${color};
                            text-shadow: 0 0 25px ${color};
                            animation: ${action === 'added' ? 'favoriteIconHeartBeat' : 'favoriteIconBreak'} 2s ease-in-out infinite;
                            flex-shrink: 0;
                            filter: drop-shadow(0 0 15px ${color});
                        ">
                            <i class="fas ${icon}"></i>
                        </div>
                        
                        <div style="flex: 1;">
                            <h3 style="
                                font-size: 1.1rem;
                                margin: 0 0 10px 0;
                                color: ${color};
                                text-shadow: 0 0 15px ${color};
                                font-weight: 900;
                                text-transform: uppercase;
                                letter-spacing: 1px;
                                animation: favoriteNotificationTitle 2s ease-in-out infinite;
                            ">${title}</h3>
                            
                            <p style="
                                font-size: 1rem;
                                margin: 0;
                                color: rgba(255, 255, 255, 0.9);
                                line-height: 1.5;
                                font-family: 'Rajdhani', sans-serif;
                                font-weight: 500;
                            ">${message}</p>
                            
                            ${action === 'added' ? `
                                <div style="
                                    margin-top: 12px;
                                    padding: 8px 12px;
                                    background: rgba(255, 20, 147, 0.2);
                                    border-radius: 10px;
                                    font-size: 0.85rem;
                                    color: var(--neon-pink);
                                    text-align: center;
                                    font-weight: 600;
                                    animation: favoriteNotificationTip 3s ease-in-out infinite;
                                ">
                                    💡 Acesse "Favoritos" para ver todos!
                                </div>
                            ` : ''}
                        </div>
                        
                        <button onclick="closeFavoriteNotification(this)" style="
                            background: none;
                            border: none;
                            color: rgba(255, 255, 255, 0.5);
                            font-size: 1.2rem;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            width: 24px;
                            height: 24px;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            flex-shrink: 0;
                        " onmouseover="this.style.background='rgba(255, 255, 255, 0.1)'; this.style.color='#fff';" onmouseout="this.style.background='none'; this.style.color='rgba(255, 255, 255, 0.5)';">
                            ×
                        </button>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes favoriteNotificationSlide {
                        0% {
                            opacity: 0;
                            transform: translateX(100px) scale(0.8);
                        }
                        100% {
                            opacity: 1;
                            transform: translateX(0) scale(1);
                        }
                    }
                    @keyframes favoriteIconHeartBeat {
                        0%, 100% { 
                            transform: scale(1) rotate(0deg);
                            text-shadow: 0 0 25px ${color};
                            filter: drop-shadow(0 0 15px ${color});
                        }
                        25% { 
                            transform: scale(1.2) rotate(-5deg);
                            text-shadow: 0 0 35px ${color}, 0 0 45px ${color};
                            filter: drop-shadow(0 0 25px ${color});
                        }
                        75% { 
                            transform: scale(1.2) rotate(5deg);
                            text-shadow: 0 0 35px ${color}, 0 0 45px ${color};
                            filter: drop-shadow(0 0 25px ${color});
                        }
                    }
                    @keyframes favoriteIconBreak {
                        0%, 100% { 
                            transform: scale(1);
                            text-shadow: 0 0 20px ${color};
                        }
                        50% { 
                            transform: scale(1.1);
                            text-shadow: 0 0 30px ${color}, 0 0 40px ${color};
                        }
                    }
                    @keyframes favoriteNotificationTitle {
                        0%, 100% { 
                            text-shadow: 0 0 15px ${color};
                            transform: scale(1);
                        }
                        50% { 
                            text-shadow: 0 0 25px ${color}, 0 0 35px ${color};
                            transform: scale(1.02);
                        }
                    }
                    @keyframes favoriteNotificationTip {
                        0%, 100% { 
                            background: rgba(255, 20, 147, 0.2);
                            transform: scale(1);
                        }
                        50% { 
                            background: rgba(255, 20, 147, 0.3);
                            transform: scale(1.02);
                        }
                    }
                `;
                document.head.appendChild(style);
                
                // Mostrar notificação
                setTimeout(() => {
                    notification.style.right = '20px';
                }, 100);
                
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        closeFavoriteNotification(notification);
                    }
                }, 5000);
            }
            
            window.closeFavoriteNotification = function(element) {
                const notification = element.closest ? element.closest('div[style*="position: fixed"]') : element;
                if (notification) {
                    notification.style.right = '-400px';
                    setTimeout(() => {
                        if (document.body.contains(notification)) {
                            document.body.removeChild(notification);
                        }
                    }, 400);
                }
            }
            
            window.shareGame = function(gameName) {
                alert(`📤 Compartilhando ${gameName}...\n\n🔗 Link copiado para a área de transferência!`);
            }
        }
        
        function editGame(gameName) {
            const games = JSON.parse(localStorage.getItem('customGames') || '[]');
            const game = games.find(g => g.name === gameName);
            if (!game) return;
            
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content" style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9)); border: 2px solid var(--neon-cyan); border-radius: 20px;">
                        <div class="modal-header" style="border-bottom: 1px solid rgba(0, 255, 255, 0.3);">
                            <h5 class="modal-title" style="font-family: 'Orbitron', monospace; color: var(--neon-cyan);">EDITAR JOGO</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form id="editGameForm">
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" name="gameName" value="${game.name}" style="background: #333; border: 1px solid #555; color: #fff;">
                                    </div>
                                    <div class="col-md-6">
                                        <input type="text" class="form-control" name="developer" value="${game.developer}" style="background: #333; border: 1px solid #555; color: #fff;">
                                    </div>
                                    <div class="col-12">
                                        <label class="form-label" style="color: var(--neon-cyan); font-weight: 600;">Categorias</label>
                                        <div style="background: #333; border: 1px solid #555; border-radius: 8px; padding: 15px; max-height: 150px; overflow-y: auto;">
                                            <div class="row g-2">
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="acao" ${(game.categories && game.categories.includes('acao')) || game.category === 'acao' ? 'checked' : ''} style="margin-right: 8px;"> Ação</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="aventura" ${(game.categories && game.categories.includes('aventura')) || game.category === 'aventura' ? 'checked' : ''} style="margin-right: 8px;"> Aventura</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="rpg" ${(game.categories && game.categories.includes('rpg')) || game.category === 'rpg' ? 'checked' : ''} style="margin-right: 8px;"> RPG</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="estrategia" ${(game.categories && game.categories.includes('estrategia')) || game.category === 'estrategia' ? 'checked' : ''} style="margin-right: 8px;"> Estratégia</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="survival" ${(game.categories && game.categories.includes('survival')) || game.category === 'survival' ? 'checked' : ''} style="margin-right: 8px;"> Sobrevivência</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="terror" ${(game.categories && game.categories.includes('terror')) || game.category === 'terror' ? 'checked' : ''} style="margin-right: 8px;"> Terror</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="indie" ${(game.categories && game.categories.includes('indie')) || game.category === 'indie' ? 'checked' : ''} style="margin-right: 8px;"> Indie</label></div>
                                                <div class="col-md-4"><label style="color: #fff; cursor: pointer; display: block;"><input type="checkbox" name="categories" value="sandbox" ${(game.categories && game.categories.includes('sandbox')) || game.category === 'sandbox' ? 'checked' : ''} style="margin-right: 8px;"> Sandbox</label></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <input type="url" class="form-control" name="gameUrl" value="${game.gameUrl}" style="background: #333; border: 1px solid #555; color: #fff;">
                                    </div>
                                    <div class="col-12">
                                        <input type="url" class="form-control" name="imageUrl" value="${game.imageUrl}" style="background: #333; border: 1px solid #555; color: #fff;">
                                    </div>
                                    <div class="col-12">
                                        <textarea class="form-control" name="description" rows="3" style="background: #333; border: 1px solid #555; color: #fff;">${game.description}</textarea>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="button" class="btn btn-primary" onclick="saveEditedGame('${gameName}')">Salvar</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            const bootstrapModal = new bootstrap.Modal(modal);
            bootstrapModal.show();
            
            modal.addEventListener('hidden.bs.modal', () => {
                document.body.removeChild(modal);
            });
        }
        
        function saveEditedGame(originalName) {
            const form = document.getElementById('editGameForm');
            const formData = new FormData(form);
            
            const selectedCategories = [];
            const checkboxes = form.querySelectorAll('input[name="categories"]:checked');
            checkboxes.forEach(checkbox => selectedCategories.push(checkbox.value));
            
            let games = JSON.parse(localStorage.getItem('customGames') || '[]');
            const gameIndex = games.findIndex(g => g.name === originalName);
            
            if (gameIndex !== -1) {
                games[gameIndex] = {
                    ...games[gameIndex],
                    name: formData.get('gameName'),
                    developer: formData.get('developer'),
                    categories: selectedCategories,
                    category: selectedCategories[0] || 'indie',
                    gameUrl: formData.get('gameUrl'),
                    imageUrl: formData.get('imageUrl'),
                    description: formData.get('description')
                };
                
                localStorage.setItem('customGames', JSON.stringify(games));
                
                const modal = document.querySelector('.modal.show');
                if (modal) {
                    bootstrap.Modal.getInstance(modal).hide();
                }
                
                loadMyGames();
                displayCustomGames();
                
                alert('✅ Jogo editado com sucesso!');
            }
        }
        
        function deleteGame(gameName) {
            if (confirm(`🗑️ Excluir ${gameName}?`)) {
                let games = JSON.parse(localStorage.getItem('customGames') || '[]');
                games = games.filter(game => game.name !== gameName);
                localStorage.setItem('customGames', JSON.stringify(games));
                loadMyGames();
                displayCustomGames();
                alert('✅ Jogo excluído com sucesso!');
            }
        }
        
        function transferGame(gameName) {
            const users = JSON.parse(localStorage.getItem('registeredUsers') || '[]');
            const currentUser = localStorage.getItem('currentUser');
            
            if (users.length <= 1) {
                alert('⚠️ Não há outros usuários para transferir o jogo!');
                return;
            }
            
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;
            
            modal.innerHTML = `
                <div style="
                    background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
                    border: 2px solid var(--neon-purple);
                    border-radius: 20px;
                    padding: 40px;
                    max-width: 500px;
                    width: 90%;
                    text-align: center;
                    color: #fff;
                    position: relative;
                ">
                    <h3 style="color: var(--neon-purple); margin-bottom: 20px; font-family: 'Orbitron', monospace;">
                        <i class="fas fa-user-friends me-2"></i>TRANSFERIR JOGO
                    </h3>
                    
                    <p style="margin-bottom: 25px; color: rgba(255, 255, 255, 0.8);">
                        Transferir "${gameName}" para outro usuário:
                    </p>
                    
                    <select id="targetUser" style="
                        width: 100%;
                        background: rgba(0, 0, 0, 0.8);
                        border: 2px solid var(--neon-purple);
                        color: #fff;
                        padding: 15px;
                        border-radius: 10px;
                        margin-bottom: 25px;
                        font-size: 1rem;
                    ">
                        <option value="">Selecione o usuário...</option>
                        ${users.filter(u => u.username !== currentUser).map(u => 
                            `<option value="${u.username}">${u.username}</option>`
                        ).join('')}
                    </select>
                    
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button onclick="confirmTransfer('${gameName}')" style="
                            background: linear-gradient(45deg, var(--neon-purple), rgba(138, 43, 226, 0.8));
                            color: #fff;
                            border: none;
                            padding: 12px 25px;
                            border-radius: 10px;
                            font-weight: 700;
                            cursor: pointer;
                        ">
                            <i class="fas fa-check me-2"></i>TRANSFERIR
                        </button>
                        <button onclick="closeTransferModal()" style="
                            background: rgba(0, 0, 0, 0.8);
                            border: 2px solid #ff0040;
                            color: #ff0040;
                            padding: 12px 25px;
                            border-radius: 10px;
                            font-weight: 700;
                            cursor: pointer;
                        ">
                            <i class="fas fa-times me-2"></i>CANCELAR
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            window.closeTransferModal = function() {
                document.body.removeChild(modal);
            }
            
            window.confirmTransfer = function(gameName) {
                const targetUser = document.getElementById('targetUser').value;
                
                if (!targetUser) {
                    alert('⚠️ Selecione um usuário!');
                    return;
                }
                
                if (confirm(`🔄 Confirma a transferência de "${gameName}" para ${targetUser}?\n\n⚠️ Esta ação não pode ser desfeita!`)) {
                    let games = JSON.parse(localStorage.getItem('customGames') || '[]');
                    const gameIndex = games.findIndex(g => g.name === gameName && g.createdBy === currentUser);
                    
                    if (gameIndex !== -1) {
                        games[gameIndex].createdBy = targetUser;
                        games[gameIndex].transferredFrom = currentUser;
                        games[gameIndex].transferDate = new Date().toISOString();
                        
                        localStorage.setItem('customGames', JSON.stringify(games));
                        
                        closeTransferModal();
                        loadMyGames();
                        displayCustomGames();
                        
                        alert(`✅ Jogo "${gameName}" transferido para ${targetUser} com sucesso!`);
                    }
                }
            }
        }

        function favorites() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('⚠️ Você precisa estar logado para ver seus favoritos!');
                return;
            }
            
            showFavoritesModal();
        }
        
        function showFavoritesModal() {
            const currentUser = localStorage.getItem('currentUser');
            const userFavorites = JSON.parse(localStorage.getItem(`favorites_${currentUser}`) || '[]');
            const allGames = JSON.parse(localStorage.getItem('customGames') || '[]');
            const favoriteGames = allGames.filter(game => userFavorites.includes(game.name));
            
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.id = 'favoritesModal';
            modal.innerHTML = `
                <div class="modal-dialog modal-fullscreen">
                    <div class="modal-content" style="background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%); border: 2px solid var(--neon-cyan);">
                        <div class="modal-header" style="border-bottom: 2px solid var(--neon-cyan);">
                            <h5 class="modal-title" style="font-family: 'Orbitron', monospace; font-size: 2rem; color: var(--neon-cyan); text-shadow: 0 0 15px var(--neon-cyan);">
                                <i class="fas fa-heart me-3"></i>MEUS FAVORITOS
                            </h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body" style="padding: 30px;">
                            <div class="search-panel" style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(0, 255, 255, 0.3); border-radius: 25px; padding: 30px; margin-bottom: 30px;">
                                <div class="row g-3">
                                    <div class="col-md-8">
                                        <div style="position: relative;">
                                            <i class="fas fa-search" style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--neon-cyan); font-size: 1.2rem;"></i>
                                            <input type="text" class="form-control" placeholder="Buscar favoritos..." id="favoritesSearchInput" style="padding-left: 55px; background: rgba(0, 0, 0, 0.8); border: 2px solid rgba(0, 255, 255, 0.4); color: #fff; border-radius: 15px; padding-top: 15px; padding-bottom: 15px;">
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <select class="form-control" id="favoritesCategoryFilter" style="background: rgba(0, 0, 0, 0.8); border: 2px solid rgba(0, 255, 255, 0.4); color: #fff; border-radius: 15px; padding: 15px;">
                                            <option value="">Todas Categorias</option>
                                            <option value="acao">Ação</option>
                                            <option value="aventura">Aventura</option>
                                            <option value="rpg">RPG</option>
                                            <option value="estrategia">Estratégia</option>
                                            <option value="corrida">Corrida</option>
                                            <option value="esporte">Esporte</option>
                                            <option value="puzzle">Puzzle</option>
                                            <option value="tiro">Tiro</option>
                                            <option value="terror">Terror</option>
                                            <option value="simulacao">Simulação</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="stats-bar" style="background: linear-gradient(90deg, rgba(0, 0, 0, 0.8), rgba(17, 17, 17, 0.6)); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 15px; padding: 15px; margin-top: 20px; text-align: center;">
                                    <div class="stats-text" style="font-family: 'Orbitron', monospace; font-size: 1.1rem; color: var(--neon-cyan); text-shadow: 0 0 10px var(--neon-cyan);" id="favoritesStats">
                                        <i class="fas fa-heart me-2"></i>${favoriteGames.length} jogo(s) favorito(s)
                                    </div>
                                </div>
                            </div>
                            <div id="favoritesGrid" class="row">
                                <!-- Jogos favoritos aparecerão aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            const bootstrapModal = new bootstrap.Modal(modal);
            bootstrapModal.show();
            

            
            loadFavoriteGames(favoriteGames);
            
            // Event listeners para filtros
            document.getElementById('favoritesSearchInput').addEventListener('input', updateFavoritesSearch);
            document.getElementById('favoritesCategoryFilter').addEventListener('change', updateFavoritesSearch);
            
            modal.addEventListener('hidden.bs.modal', () => {
                document.body.removeChild(modal);
            });
        }
        
        function loadFavoriteGames(favoriteGames) {
            displayFavoriteGames(favoriteGames);
        }
        
        function updateFavoritesSearch() {
            const searchTerm = document.getElementById('favoritesSearchInput').value.toLowerCase();
            const category = document.getElementById('favoritesCategoryFilter').value;
            const currentUser = localStorage.getItem('currentUser');
            const userFavorites = JSON.parse(localStorage.getItem(`favorites_${currentUser}`) || '[]');
            const allGames = JSON.parse(localStorage.getItem('customGames') || '[]');
            let favoriteGames = allGames.filter(game => userFavorites.includes(game.name));
            
            // Filtrar por categoria
            if (category) {
                favoriteGames = favoriteGames.filter(game => {
                    if (game.categories && Array.isArray(game.categories)) {
                        return game.categories.some(cat => cat.toLowerCase() === category.toLowerCase());
                    }
                    if (game.category && game.category.toLowerCase() === category.toLowerCase()) {
                        return true;
                    }
                    return false;
                });
            }
            
            // Filtrar por nome
            if (searchTerm) {
                favoriteGames = favoriteGames.filter(game => 
                    (game.name && game.name.toLowerCase().includes(searchTerm)) ||
                    (game.developer && game.developer.toLowerCase().includes(searchTerm)) ||
                    (game.description && game.description.toLowerCase().includes(searchTerm))
                );
            }
            
            // Atualizar exibição
            displayFavoriteGames(favoriteGames);
            
            // Atualizar stats
            const favoritesStats = document.getElementById('favoritesStats');
            favoritesStats.innerHTML = `<i class="fas fa-heart me-2"></i>${favoriteGames.length} jogo(s) encontrado(s)`;
        }
        
        function displayFavoriteGames(games) {
            const grid = document.getElementById('favoritesGrid');
            
            if (games.length === 0) {
                grid.innerHTML = `
                    <div class="col-12 text-center" style="padding: 100px 20px;">
                        <div style="font-size: 5rem; color: var(--neon-cyan); margin-bottom: 30px; opacity: 0.5;">
                            <i class="fas fa-heart-broken"></i>
                        </div>
                        <h3 style="font-family: 'Orbitron', monospace; color: var(--neon-cyan); margin-bottom: 20px;">Nenhum favorito encontrado</h3>
                        <p style="color: rgba(255, 255, 255, 0.6); font-size: 1.2rem;">Favorite jogos clicando no coração ❤️</p>
                    </div>
                `;
                return;
            }
            
            grid.innerHTML = games.map(game => `
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="card game-card h-100" style="background: linear-gradient(145deg, rgba(0, 0, 0, 0.9), rgba(17, 17, 17, 0.8)); border: 2px solid rgba(0, 255, 255, 0.3); border-radius: 20px; overflow: hidden; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 15px 35px rgba(0, 255, 255, 0.3)'; this.style.borderColor='var(--neon-cyan)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 8px 25px rgba(0, 0, 0, 0.3)'; this.style.borderColor='rgba(0, 255, 255, 0.3)';">
                        <div style="position: relative; overflow: hidden;">
                            <img src="${game.imageUrl}" class="card-img-top" style="width: 100%; height: 180px; object-fit: cover; transition: transform 0.3s ease;" alt="${game.name}" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <div style="position: absolute; top: 10px; right: 10px; background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8)); color: #000; padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; font-weight: 700; box-shadow: 0 4px 15px rgba(0, 255, 255, 0.4);">⭐ ${game.rating}</div>
                        </div>
                        <div class="card-body" style="padding: 20px;">
                            <h5 class="card-title" style="color: var(--neon-cyan); font-family: 'Orbitron', monospace; font-weight: 700; font-size: 1.1rem; margin-bottom: 10px; text-shadow: 0 0 10px var(--neon-cyan);">${game.name}</h5>
                            <p class="card-text" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; line-height: 1.4; margin-bottom: 15px; height: 60px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;">${game.description}</p>
                            <div style="margin-bottom: 15px;">
                                <span style="background: linear-gradient(45deg, var(--neon-purple), rgba(138, 43, 226, 0.8)); color: #fff; padding: 4px 8px; border-radius: 10px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; text-shadow: 0 0 5px var(--neon-purple);">${game.category}</span>
                            </div>
                            <div style="color: rgba(255, 255, 255, 0.6); font-size: 0.8rem; font-style: italic; margin-bottom: 15px;">Por: ${game.developer}</div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn" onclick="playGame('${game.name}')" style="flex: 1; background: rgba(0, 0, 0, 0.8); border: 2px solid var(--neon-cyan); color: var(--neon-cyan); padding: 8px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; border-radius: 8px; transition: all 0.3s ease; font-size: 0.8rem;">
                                    <i class="fas fa-play me-1"></i>JOGAR
                                </button>
                                <button class="btn" onclick="removeFavorite('${game.name}')" style="background: rgba(0, 0, 0, 0.8); border: 2px solid #ff0040; color: #ff0040; padding: 8px 12px; border-radius: 8px; transition: all 0.3s ease;">
                                    <i class="fas fa-heart-broken"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        function toggleTheme() {
            // Remover notificação anterior se existir
            const existingNotification = document.querySelector('[data-theme-notification]');
            if (existingNotification) {
                existingNotification.style.right = '-400px';
                setTimeout(() => {
                    if (document.body.contains(existingNotification)) {
                        document.body.removeChild(existingNotification);
                    }
                }, 200);
            }
            
            const themes = [
                { name: 'Cyber Cyan', primary: '#00ffff', secondary: '#8a2be2', accent: '#ff1493' },
                { name: 'Neon Pink', primary: '#ff1493', secondary: '#ff6600', accent: '#8a2be2' },
                { name: 'Matrix Green', primary: '#39ff14', secondary: '#00ff80', accent: '#ffff00' },
                { name: 'Purple Haze', primary: '#8a2be2', secondary: '#ff1493', accent: '#00ffff' },
                { name: 'Solar Orange', primary: '#ff6600', secondary: '#ffaa00', accent: '#ff1493' }
            ];
            
            const currentTheme = localStorage.getItem('currentTheme') || '0';
            const nextTheme = (parseInt(currentTheme) + 1) % themes.length;
            const theme = themes[nextTheme];
            
            // Atualizar todas as variáveis CSS
            document.documentElement.style.setProperty('--neon-cyan', theme.primary);
            document.documentElement.style.setProperty('--neon-purple', theme.secondary);
            document.documentElement.style.setProperty('--neon-pink', theme.accent);
            document.documentElement.style.setProperty('--neon-green', theme.primary);
            document.documentElement.style.setProperty('--neon-orange', theme.secondary);
            
            localStorage.setItem('currentTheme', nextTheme.toString());
            
            // Atualizar partículas com as novas cores
            setTimeout(() => {
                initParticles();
            }, 50);
            
            // Mostrar notificação moderna
            const notification = document.createElement('div');
            notification.setAttribute('data-theme-notification', 'true');
            notification.style.cssText = `
                position: fixed;
                top: 120px;
                right: -400px;
                width: 320px;
                background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
                border: 2px solid ${theme.primary};
                border-radius: 15px;
                padding: 20px;
                z-index: 10000;
                backdrop-filter: blur(20px);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8), 0 0 20px ${theme.primary}40;
                transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                font-family: 'Orbitron', monospace;
                color: #fff;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div style="
                        font-size: 2rem;
                        color: ${theme.primary};
                        text-shadow: 0 0 20px ${theme.primary};
                        animation: themeIconPulse 2s ease-in-out infinite;
                    ">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div>
                        <h3 style="
                            font-size: 1.1rem;
                            margin: 0 0 5px 0;
                            color: ${theme.primary};
                            text-shadow: 0 0 10px ${theme.primary};
                            font-weight: 700;
                            text-transform: uppercase;
                        ">TEMA ALTERADO</h3>
                        <p style="
                            font-size: 0.9rem;
                            margin: 0;
                            color: rgba(255, 255, 255, 0.8);
                            font-family: 'Rajdhani', sans-serif;
                        ">${theme.name} ativado com sucesso!</p>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Mostrar notificação
            setTimeout(() => {
                notification.style.right = '20px';
            }, 100);
            
            // Auto-fechar após 3 segundos
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    notification.style.right = '-400px';
                    setTimeout(() => {
                        if (document.body.contains(notification)) {
                            document.body.removeChild(notification);
                        }
                    }, 400);
                }
            }, 3000);
        }
        
        function showSupport() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: rgba(0, 0, 0, 0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                backdrop-filter: blur(10px);
            `;
            
            modal.innerHTML = `
                <div style="
                    background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
                    border: 2px solid var(--neon-green);
                    border-radius: 20px;
                    padding: 40px;
                    max-width: 500px;
                    width: 90%;
                    text-align: center;
                    color: #fff;
                    position: relative;
                ">
                    <button onclick="closeSupportModal()" style="
                        position: absolute;
                        top: 15px;
                        right: 20px;
                        background: none;
                        border: none;
                        color: var(--neon-green);
                        font-size: 1.5rem;
                        cursor: pointer;
                    ">×</button>
                    
                    <div style="
                        width: 80px;
                        height: 80px;
                        background: linear-gradient(45deg, var(--neon-green), rgba(57, 255, 20, 0.8));
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin: 0 auto 20px;
                        font-size: 2rem;
                        color: #000;
                    ">
                        <i class="fas fa-headset"></i>
                    </div>
                    
                    <h2 style="
                        font-family: 'Orbitron', monospace;
                        color: var(--neon-green);
                        margin-bottom: 20px;
                        text-shadow: 0 0 15px var(--neon-green);
                    ">SUPORTE LUMORA</h2>
                    
                    <p style="margin-bottom: 30px; line-height: 1.6;">Precisa de ajuda? Entre em contato conosco!</p>
                    
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <button onclick="window.open('mailto:suporte@lumora.com', '_blank')" style="
                            background: rgba(0, 0, 0, 0.8);
                            border: 2px solid var(--neon-green);
                            color: var(--neon-green);
                            padding: 12px 20px;
                            border-radius: 10px;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            font-weight: 600;
                        " onmouseover="this.style.background='rgba(57, 255, 20, 0.1)';" onmouseout="this.style.background='rgba(0, 0, 0, 0.8)';">
                            <i class="fas fa-envelope me-2"></i>Email: suporte@lumora.com
                        </button>
                        
                        <button onclick="window.open('https://discord.gg/lumora', '_blank')" style="
                            background: rgba(0, 0, 0, 0.8);
                            border: 2px solid #5865F2;
                            color: #5865F2;
                            padding: 12px 20px;
                            border-radius: 10px;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            font-weight: 600;
                        " onmouseover="this.style.background='rgba(88, 101, 242, 0.1)';" onmouseout="this.style.background='rgba(0, 0, 0, 0.8)';">
                            <i class="fab fa-discord me-2"></i>Discord: Lumora Community
                        </button>
                        
                        <button onclick="window.open('https://wa.me/5511999999999', '_blank')" style="
                            background: rgba(0, 0, 0, 0.8);
                            border: 2px solid #25D366;
                            color: #25D366;
                            padding: 12px 20px;
                            border-radius: 10px;
                            cursor: pointer;
                            transition: all 0.3s ease;
                            font-weight: 600;
                        " onmouseover="this.style.background='rgba(37, 211, 102, 0.1)';" onmouseout="this.style.background='rgba(0, 0, 0, 0.8)';">
                            <i class="fab fa-whatsapp me-2"></i>WhatsApp: (11) 99999-9999
                        </button>
                    </div>
                    
                    <p style="margin-top: 20px; font-size: 0.9rem; color: rgba(255, 255, 255, 0.6);">Horário de atendimento: 24/7</p>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            window.closeSupportModal = function() {
                document.body.removeChild(modal);
            }
            
            modal.onclick = function(e) {
                if (e.target === modal) {
                    closeSupportModal();
                }
            }
        }
        
        // Carregar tema salvo
        function loadSavedTheme() {
            const savedTheme = localStorage.getItem('currentTheme');
            if (savedTheme) {
                const themes = [
                    { primary: '#00ffff', secondary: '#8a2be2', accent: '#ff1493' },
                    { primary: '#ff1493', secondary: '#ff6600', accent: '#8a2be2' },
                    { primary: '#39ff14', secondary: '#00ff80', accent: '#ffff00' },
                    { primary: '#8a2be2', secondary: '#ff1493', accent: '#00ffff' },
                    { primary: '#ff6600', secondary: '#ffaa00', accent: '#ff1493' }
                ];
                const theme = themes[parseInt(savedTheme)];
                if (theme) {
                    document.documentElement.style.setProperty('--neon-cyan', theme.primary);
                    document.documentElement.style.setProperty('--neon-purple', theme.secondary);
                    document.documentElement.style.setProperty('--neon-pink', theme.accent);
                    document.documentElement.style.setProperty('--neon-green', theme.primary);
                    document.documentElement.style.setProperty('--neon-orange', theme.secondary);
                    
                    // Atualizar partículas com o tema carregado
                    setTimeout(() => {
                        initParticles();
                    }, 100);
                }
            }
        }
        
        // Tela de carregamento
        // Show loading screen immediately
        showLoadingScreen();

        window.addEventListener('beforeunload', function() {
            showLoadingScreen();
        });

        window.addEventListener('load', function() {
            setTimeout(function() {
                const loadingScreen = document.getElementById('loadingScreen');
                if (loadingScreen) {
                    loadingScreen.style.opacity = '0';
                    setTimeout(function() {
                        loadingScreen.style.display = 'none';
                    }, 500);
                }
            }, 3000);
        });
        
        function showLoadingScreen() {
            const loadingScreen = document.createElement('div');
            loadingScreen.id = 'loadingScreen';
            loadingScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 999999;
                transition: opacity 0.5s ease;
                font-family: 'Orbitron', monospace;
                color: #fff;
            `;
            
            loadingScreen.innerHTML = `
                <div style="
                    width: 120px;
                    height: 120px;
                    border: 4px solid rgba(0, 255, 255, 0.3);
                    border-top: 4px solid var(--neon-cyan);
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                    margin-bottom: 30px;
                    box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
                "></div>
                
                <h2 style="
                    font-size: 2rem;
                    margin-bottom: 15px;
                    color: var(--neon-cyan);
                    text-shadow: 0 0 20px var(--neon-cyan);
                    animation: pulse 2s ease-in-out infinite;
                ">CARREGANDO</h2>
                
                <p style="
                    font-size: 1rem;
                    color: rgba(255, 255, 255, 0.7);
                    text-align: center;
                    max-width: 400px;
                    line-height: 1.5;
                ">Sincronizando com os servidores...</p>
                
                <div style="
                    margin-top: 30px;
                    display: flex;
                    gap: 8px;
                ">
                    <div style="
                        width: 8px;
                        height: 8px;
                        background: var(--neon-cyan);
                        border-radius: 50%;
                        animation: dot1 1.4s ease-in-out infinite;
                        box-shadow: 0 0 10px var(--neon-cyan);
                    "></div>
                    <div style="
                        width: 8px;
                        height: 8px;
                        background: var(--neon-cyan);
                        border-radius: 50%;
                        animation: dot2 1.4s ease-in-out infinite;
                        box-shadow: 0 0 10px var(--neon-cyan);
                    "></div>
                    <div style="
                        width: 8px;
                        height: 8px;
                        background: var(--neon-cyan);
                        border-radius: 50%;
                        animation: dot3 1.4s ease-in-out infinite;
                        box-shadow: 0 0 10px var(--neon-cyan);
                    "></div>
                </div>
            `;
            
            // Adicionar CSS das animações
            const style = document.createElement('style');
            style.textContent = `
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
                @keyframes pulse {
                    0%, 100% { opacity: 1; }
                    50% { opacity: 0.7; }
                }
                @keyframes dot1 {
                    0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
                    40% { transform: scale(1.2); opacity: 1; }
                }
                @keyframes dot2 {
                    0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
                    40% { transform: scale(1.2); opacity: 1; }
                }
                @keyframes dot3 {
                    0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
                    40% { transform: scale(1.2); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            document.body.appendChild(loadingScreen);
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedTheme();
            
            // Mostrar status de admin no console (apenas para admins)
            if (isAdmin()) {
                console.log('%c🔓 MODO ADMIN ATIVO', 'color: #00ffff; font-size: 20px; font-weight: bold;');
                console.log('%c⚡ Ferramentas de desenvolvedor liberadas', 'color: #39ff14; font-size: 14px;');
            } else {
                console.log('%c🔒 MODO USUÁRIO', 'color: #ff0040; font-size: 16px; font-weight: bold;');
                console.log('%c🛡️ Sistema protegido contra inspeção', 'color: #ff6600; font-size: 12px;');
            }
        });
        
        // Proteção contra inspeção (apenas para não-admins)
        function isAdmin() {
            const currentUser = localStorage.getItem('currentUser');
            const admins = JSON.parse(localStorage.getItem('admins') || '[]');
            return admins.some(admin => admin.username === currentUser);
        }
        
        document.addEventListener('keydown', function(e) {
            if (!isAdmin() && (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') || (e.ctrlKey && e.shiftKey && e.key === 'C') || (e.ctrlKey && e.key === 'u'))) {
                e.preventDefault();
                showSecurityWarning();
                return false;
            }
        });
        
        document.addEventListener('contextmenu', function(e) {
            if (!isAdmin()) {
                e.preventDefault();
                showSecurityWarning();
            }
        });
        
        function showSecurityWarning() {
            const warning = document.createElement('div');
            warning.style.cssText = `
                position: fixed;
                top: 20px;
                right: -400px;
                width: 350px;
                background: linear-gradient(145deg, rgba(0, 0, 0, 0.95), rgba(17, 17, 17, 0.9));
                border: 2px solid var(--neon-cyan);
                border-radius: 15px;
                padding: 20px;
                z-index: 99999;
                backdrop-filter: blur(20px);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8), 0 0 20px rgba(0, 255, 255, 0.3);
                transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                overflow: hidden;
                font-family: 'Orbitron', monospace;
                color: #fff;
            `;
            
            warning.innerHTML = `
                <div style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    height: 3px;
                    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple), var(--neon-cyan));
                    animation: topGlow 2s ease-in-out infinite;
                "></div>
                
                <div style="display: flex; align-items: flex-start; gap: 15px; margin-top: 5px;">
                    <div style="
                        font-size: 2rem;
                        color: var(--neon-cyan);
                        animation: pulse 2s infinite;
                        text-shadow: 0 0 20px var(--neon-cyan);
                        flex-shrink: 0;
                    ">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    
                    <div style="flex: 1;">
                        <h3 style="
                            font-size: 1.1rem;
                            margin: 0 0 8px 0;
                            color: var(--neon-cyan);
                            text-shadow: 0 0 10px var(--neon-cyan);
                            font-weight: 700;
                            text-transform: uppercase;
                        ">SISTEMA PROTEGIDO</h3>
                        
                        <p style="
                            font-size: 0.9rem;
                            margin: 0 0 15px 0;
                            color: rgba(255, 255, 255, 0.8);
                            line-height: 1.4;
                        ">Ferramentas de desenvolvedor bloqueadas. Apenas administradores têm acesso.</p>
                        
                        <div style="display: flex; gap: 8px;">
                            <button onclick="closeSecurityWarning(this)" style="
                                background: linear-gradient(45deg, var(--neon-cyan), rgba(0, 255, 255, 0.8));
                                color: #000;
                                border: none;
                                padding: 8px 15px;
                                border-radius: 8px;
                                font-size: 0.8rem;
                                font-weight: 700;
                                cursor: pointer;
                                text-transform: uppercase;
                                letter-spacing: 0.5px;
                                transition: all 0.3s ease;
                                font-family: 'Orbitron', monospace;
                                flex: 1;
                            " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 0 15px rgba(0, 255, 255, 0.5)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='none';">
                                OK
                            </button>
                        </div>
                    </div>
                    
                    <button onclick="closeSecurityWarning(this)" style="
                        background: none;
                        border: none;
                        color: rgba(255, 255, 255, 0.5);
                        font-size: 1.2rem;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        width: 24px;
                        height: 24px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        flex-shrink: 0;
                    " onmouseover="this.style.background='rgba(0, 255, 255, 0.2)'; this.style.color='var(--neon-cyan)'; this.style.transform='scale(1.1)';" onmouseout="this.style.background='none'; this.style.color='rgba(255, 255, 255, 0.5)'; this.style.transform='scale(1)';">
                        ×
                    </button>
                </div>
            `;
            
            document.body.appendChild(warning);
            
            // Adicionar CSS para animações
            const style = document.createElement('style');
            style.textContent = `
                @keyframes securityAlert {
                    0% { opacity: 0; transform: scale(0.8); }
                    100% { opacity: 1; transform: scale(1); }
                }
                @keyframes pulse {
                    0%, 100% { 
                        transform: scale(1);
                        text-shadow: 0 0 40px var(--neon-cyan);
                    }
                    50% { 
                        transform: scale(1.1);
                        text-shadow: 0 0 60px var(--neon-cyan), 0 0 80px var(--neon-cyan);
                    }
                }
                @keyframes topGlow {
                    0%, 100% { opacity: 0.8; }
                    50% { opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(warning);
            
            // Mostrar notificação
            setTimeout(() => {
                warning.style.right = '20px';
            }, 100);
            
            // Auto-fechar após 8 segundos
            setTimeout(() => {
                if (document.body.contains(warning)) {
                    closeSecurityWarning(warning);
                }
            }, 8000);
        }
        
        function closeSecurityWarning(element) {
            const warning = element.closest ? element.closest('div[style*="position: fixed"]') : element;
            if (warning) {
                warning.style.right = '-400px';
                setTimeout(() => {
                    if (document.body.contains(warning)) {
                        document.body.removeChild(warning);
                    }
                }, 400);
            }
        }

        function downloadGame(gameUrl) {
            showGameLoadingScreen();
            setTimeout(() => {
                window.open(gameUrl, '_blank');
                hideGameLoadingScreen();
            }, 2000);
        }

        function showGameLoadingScreen() {
            const loadingScreen = document.createElement('div');
            loadingScreen.id = 'gameLoadingScreen';
            loadingScreen.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background: linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 999999;
                font-family: 'Orbitron', monospace;
                color: #fff;
                transition: opacity 0.5s ease;
            `;
            
            loadingScreen.innerHTML = `
                <div style="
                    font-size: 4rem;
                    color: var(--neon-cyan);
                    margin-bottom: 30px;
                    text-shadow: 0 0 30px var(--neon-cyan);
                    animation: downloadPulse 2s ease-in-out infinite;
                ">
                    <i class="fas fa-download"></i>
                </div>
                
                <h2 style="
                    font-size: 2rem;
                    margin-bottom: 15px;
                    color: var(--neon-cyan);
                    text-shadow: 0 0 20px var(--neon-cyan);
                ">BAIXANDO JOGO</h2>
                
                <p style="
                    font-size: 1rem;
                    color: rgba(255, 255, 255, 0.7);
                    margin-bottom: 30px;
                    text-align: center;
                ">Preparando download...</p>
                
                <div style="
                    width: 400px;
                    height: 8px;
                    background: rgba(0, 0, 0, 0.8);
                    border: 2px solid var(--neon-cyan);
                    border-radius: 10px;
                    overflow: hidden;
                    margin-bottom: 15px;
                    box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
                ">
                    <div id="progressBar" style="
                        width: 0%;
                        height: 100%;
                        background: linear-gradient(90deg, var(--neon-cyan), #ffffff, var(--neon-cyan));
                        border-radius: 8px;
                        transition: width 0.3s ease;
                        box-shadow: 0 0 15px var(--neon-cyan);
                    "></div>
                </div>
                
                <div style="
                    font-size: 1.2rem;
                    color: var(--neon-cyan);
                    font-weight: 700;
                    text-shadow: 0 0 10px var(--neon-cyan);
                " id="progressText">0%</div>
            `;
            
            // Adicionar CSS para animação
            const style = document.createElement('style');
            style.textContent = `
                @keyframes downloadPulse {
                    0%, 100% { 
                        transform: scale(1);
                        text-shadow: 0 0 30px var(--neon-cyan);
                    }
                    50% { 
                        transform: scale(1.1);
                        text-shadow: 0 0 50px var(--neon-cyan), 0 0 70px var(--neon-cyan);
                    }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(loadingScreen);
            
            // Animar barra de progresso
            let progress = 0;
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            const interval = setInterval(() => {
                progress += Math.random() * 15 + 5;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                }
                progressBar.style.width = progress + '%';
                progressText.textContent = Math.floor(progress) + '%';
            }, 100);
        }

        function hideGameLoadingScreen() {
            const loadingScreen = document.getElementById('gameLoadingScreen');
            if (loadingScreen) {
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(loadingScreen)) {
                        document.body.removeChild(loadingScreen);
                    }
                }, 500);
            }
        }
        
        // Mini Menu Functions
        function toggleMiniMenu() {
            const overlay = document.getElementById('menuOverlay');
            if (overlay.style.display === 'none' || overlay.style.display === '') {
                overlay.style.display = 'flex';
                setTimeout(() => overlay.classList.add('show'), 10);
            } else {
                overlay.classList.remove('show');
                setTimeout(() => overlay.style.display = 'none', 400);
            }
        }
        
        function showProfile() {
            toggleMiniMenu();
            alert('👤 Perfil do usuário em desenvolvimento!');
        }
        
        function showFriends() {
            toggleMiniMenu();
            alert('👥 Lista de amigos em desenvolvimento!');
        }
        
        function showSettings() {
            toggleMiniMenu();
            alert('⚙️ Configurações em desenvolvimento!');
        }
        
        function goBack() {
            toggleMiniMenu();
            window.open('index.html', '_blank');
            window.close();
        }
        
        // Fechar mini menu ao clicar fora
        document.addEventListener('click', function(e) {
            const miniMenu = document.getElementById('miniMenu');
            const backBtn = document.querySelector('.back-btn');
            
            if (!miniMenu.contains(e.target) && !backBtn.contains(e.target)) {
                if (miniMenu.style.display === 'block') {
                    toggleMiniMenu();
                }
            }
        });

    </script>
</body>
</html>